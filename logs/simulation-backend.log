2025-08-07 13:25:45 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 37236 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 13:25:45 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 13:25:45 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 13:25:45 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 13:25:46 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 13:25:46 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 13:25:46 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 13:25:46 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 13:25:46 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 657 ms
2025-08-07 13:25:46 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 13:25:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 13:25:46 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 13:25:46 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 13:25:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 13:25:46 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 13:25:47 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 13:25:47 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:25:47 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 13:25:47 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 13:25:48 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 13:25:48 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.81 seconds (process running for 3.159)
2025-08-07 13:25:50 [http-nio-9527-exec-2] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 13:25:50 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 13:25:50 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 13:25:51 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 13:25:51 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:25:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:25:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:25:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:25:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:25:58 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:25:58 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:25:58 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:27:05 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 13:27:05 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 13:27:05 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:28:16 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 40584 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 13:28:16 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 13:28:17 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 13:28:17 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 13:28:17 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 13:28:17 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 13:28:17 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 13:28:17 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 13:28:17 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 698 ms
2025-08-07 13:28:17 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 13:28:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 13:28:18 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 13:28:18 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 13:28:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 13:28:18 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 13:28:18 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 13:28:18 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:28:18 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 13:28:19 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 13:28:19 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 13:28:19 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.871 seconds (process running for 3.28)
2025-08-07 13:28:29 [http-nio-9527-exec-2] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 13:28:29 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 13:28:29 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 13:28:29 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 13:28:29 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:28:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:28:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:28:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:28:32 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:28:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:28:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:28:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:28:54 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 13:28:54 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 13:28:54 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:37:24 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 37340 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 13:37:24 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 13:37:24 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 13:37:24 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 13:37:24 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 13:37:24 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 13:37:24 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 13:37:24 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 13:37:24 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 638 ms
2025-08-07 13:37:25 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 13:37:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 13:37:25 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 13:37:25 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 13:37:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 13:37:25 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 13:37:26 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 13:37:26 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:37:26 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 13:37:26 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 13:37:26 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 13:37:26 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.784 seconds (process running for 3.169)
2025-08-07 13:37:35 [http-nio-9527-exec-2] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 13:37:35 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 13:37:35 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 13:37:35 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 13:37:35 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:37:35 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:37:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:37:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:37:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:37:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:37:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:37:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:38:27 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 13:38:28 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 13:38:28 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:39:42 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 36292 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 13:39:42 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 13:39:42 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 13:39:42 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 13:39:42 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 13:39:42 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 13:39:42 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 13:39:42 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 13:39:42 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 641 ms
2025-08-07 13:39:43 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 13:39:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 13:39:43 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 13:39:43 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 13:39:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 13:39:43 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 13:39:43 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 13:39:43 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:39:44 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 13:39:44 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 13:39:44 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 13:39:44 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.707 seconds (process running for 3.057)
2025-08-07 13:39:47 [http-nio-9527-exec-2] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 13:39:47 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 13:39:47 [http-nio-9527-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 13:39:47 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 13:39:47 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:39:47 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:39:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:39:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:39:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:39:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:39:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:39:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:40:30 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 13:40:30 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 13:40:30 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:45:47 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 41748 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 13:45:47 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 13:45:48 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 13:45:48 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 13:45:48 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 13:45:48 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 13:45:48 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 13:45:48 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 13:45:48 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 684 ms
2025-08-07 13:45:48 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 13:45:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 13:45:48 [main] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 13:45:48 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 13:45:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 13:45:48 [main] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 13:45:49 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 13:45:49 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 13:45:49 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 13:45:50 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 13:45:50 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 13:45:50 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.899 seconds (process running for 3.255)
2025-08-07 13:45:52 [http-nio-9527-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 13:45:52 [http-nio-9527-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 13:45:52 [http-nio-9527-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 13:45:52 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 13:45:52 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:45:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:45:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:45:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:45:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:46:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:46:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 13:46:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 13:46:22 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 13:46:23 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 13:46:23 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:06:20 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 39908 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:06:20 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:06:20 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 12104 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:06:20 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:06:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:06:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 14:06:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:06:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
2025-08-07 14:06:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:06:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:06:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:06:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:06:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 705 ms
2025-08-07 14:06:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:06:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:06:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:06:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:06:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 679 ms
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@231b35fb
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:06:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:06:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:06:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23bd0c81
2025-08-07 14:06:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:06:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:06:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:06:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:06:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:06:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:06:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:06:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:06:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:06:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:06:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:06:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:06:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:06:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:06:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:06:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:06:22 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:06:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:06:22 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:06:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:06:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:06:22 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.915 seconds (process running for 3.151)
2025-08-07 14:06:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-07 14:06:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:06:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:06:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:06:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 14:06:22 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 9527 was already in use.

Action:

Identify and stop the process that's listening on port 9527 or configure this application to listen on another port.

2025-08-07 14:06:22 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:06:25 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 216
2025-08-07 14:06:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=216
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=216
2025-08-07 14:06:25 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:06:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=216, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:06:25 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:06:25 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: startDate = 2025-05-31 15:30:00, 错误: argument type mismatch
2025-08-07 14:06:25 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:06:25 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: stopDate = 2025-05-31 15:40:00, 错误: argument type mismatch
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:06:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:06:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:06:27 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @8036ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:06:27 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:06:27 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:06:27 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2b8f85f5{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:06:27 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @8086ms
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:06:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:06:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:06:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=216, port=12345
2025-08-07 14:06:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=216, 线程: Simulation-216 (无界面模式)
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-216
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=216
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=216
2025-08-07 14:06:28 [Simulation-216] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:06:28 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=216
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=216
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=216
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=216
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功调用实验停止方法 run_id=216
2025-08-07 14:06:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:06:32 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:06:32 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:06:32 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=216, status=CANCELLED
2025-08-07 14:06:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=216
2025-08-07 14:06:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:06:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:06:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:06:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:15:45 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 42092 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:15:45 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:15:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:15:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
2025-08-07 14:15:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:15:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:15:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:15:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:15:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 680 ms
2025-08-07 14:15:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:15:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@231b35fb
2025-08-07 14:15:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:15:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:15:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:15:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:15:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:15:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:15:47 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:15:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:15:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:15:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:15:48 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:15:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:15:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:15:48 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.8 seconds (process running for 3.047)
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:15:52 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 218
2025-08-07 14:15:52 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=218
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=218
2025-08-07 14:15:52 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:15:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=218, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:15:52 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:15:52 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: startDate = 2025-05-31 15:30:00, 错误: argument type mismatch
2025-08-07 14:15:52 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:15:52 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: stopDate = 2025-05-31 15:40:00, 错误: argument type mismatch
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:15:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:15:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:15:54 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @9505ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:15:54 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:15:54 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:15:54 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6346411c{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:15:54 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @9587ms
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:15:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:15:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:15:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=218, port=12345
2025-08-07 14:15:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=218, 线程: Simulation-218 (无界面模式)
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-218
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=218
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=218
2025-08-07 14:15:55 [Simulation-218] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:15:55 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=218
2025-08-07 14:16:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=218
2025-08-07 14:16:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=218
2025-08-07 14:16:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:16:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:16:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:16:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=218, status=COMPLETED
2025-08-07 14:16:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=218
2025-08-07 14:16:09 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:16:09 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:16:09 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:16:09 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:16:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:16:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:16:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:16:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:17:02 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 14216 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:17:02 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:17:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:17:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 14:17:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:17:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:17:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:17:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:17:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 657 ms
2025-08-07 14:17:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:17:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 14:17:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:17:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:17:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:17:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:17:03 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:17:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:17:03 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:17:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:17:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:17:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:17:04 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:17:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:17:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:17:04 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.777 seconds (process running for 3.01)
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:17:07 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 220
2025-08-07 14:17:07 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=220
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=220
2025-08-07 14:17:07 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:17:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=220, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:17:07 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:17:07 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: startDate = 2025-05-31 15:30:00, 错误: argument type mismatch
2025-08-07 14:17:07 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:17:07 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: stopDate = 2025-05-31 15:40:00, 错误: argument type mismatch
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:17:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:17:09 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @8035ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:17:09 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:17:09 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:17:09 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@525c2876{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:17:09 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @8095ms
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:17:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:17:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:17:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=220, port=12345
2025-08-07 14:17:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=220, 线程: Simulation-220 (无界面模式)
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-220
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=220
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=220
2025-08-07 14:17:09 [Simulation-220] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:17:09 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=220
2025-08-07 14:17:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=220
2025-08-07 14:17:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=220
2025-08-07 14:17:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:17:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:17:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:17:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=220, status=COMPLETED
2025-08-07 14:17:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=220
2025-08-07 14:17:17 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:17:17 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:17:17 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:17:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:17:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:17:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:17:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:17:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:19:56 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 4792 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:19:56 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:19:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:19:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 14:19:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:19:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:19:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:19:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:19:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 661 ms
2025-08-07 14:19:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:19:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@353c6da1
2025-08-07 14:19:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:19:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:19:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:19:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:19:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:19:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:19:57 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:19:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:19:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:19:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:19:58 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:19:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:19:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:19:58 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.855 seconds (process running for 3.075)
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:20:00 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 222
2025-08-07 14:20:00 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=222
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=222
2025-08-07 14:20:00 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:20:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=222, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:20:00 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:20:00 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: startDate = 2025-05-31 15:30:00, 错误: argument type mismatch
2025-08-07 14:20:00 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 不支持的参数类型转换: class java.lang.String -> class java.util.Date
2025-08-07 14:20:00 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置引擎参数失败: stopDate = 2025-05-31 15:40:00, 错误: argument type mismatch
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:20:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:20:03 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @7218ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:20:03 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:20:03 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:20:03 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2b8f85f5{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:20:03 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @7265ms
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:20:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:20:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:20:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=222, port=12345
2025-08-07 14:20:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=222, 线程: Simulation-222 (无界面模式)
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-222
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=222
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=222
2025-08-07 14:20:03 [Simulation-222] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:20:03 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=222
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=222
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=222
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=222
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功调用实验停止方法 run_id=222
2025-08-07 14:20:07 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:20:07 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:20:07 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:20:07 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=222, status=CANCELLED
2025-08-07 14:20:07 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=222
2025-08-07 14:20:07 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:20:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:20:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:20:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:27:39 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 43536 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:27:39 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:27:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:27:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 14:27:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:27:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:27:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:27:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:27:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 680 ms
2025-08-07 14:27:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:27:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@353c6da1
2025-08-07 14:27:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:27:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:27:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:27:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:27:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:27:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:27:40 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:27:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:27:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:27:41 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:27:41 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:27:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:27:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:27:41 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.783 seconds (process running for 3.033)
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:27:44 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 224
2025-08-07 14:27:44 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=224
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=224
2025-08-07 14:27:44 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:27:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=224, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:27:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:27:47 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @8459ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:27:47 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:27:47 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 14:27:47 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@587072dc{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:27:47 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @8512ms
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:27:47 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:27:47 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:27:47 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=224, port=12345
2025-08-07 14:27:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=224, 线程: Simulation-224 (无界面模式)
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-224
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=224
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=224
2025-08-07 14:27:47 [Simulation-224] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:27:47 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=224
2025-08-07 14:27:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=224
2025-08-07 14:27:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=224
2025-08-07 14:27:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:27:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:27:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:27:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=224, status=COMPLETED
2025-08-07 14:27:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=224
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:28:09 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 226
2025-08-07 14:28:09 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=226
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=226
2025-08-07 14:28:09 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:28:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=226, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:28:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:28:11 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:28:11 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:28:11 [Thread-27] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:28:11 [Thread-27] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:28:11 [Thread-27] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:28:11 [Thread-27] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:28:11 [Thread-27] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:28:11 [Thread-27] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:28:11 [Thread-27] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 14:28:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:28:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:28:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=226
2025-08-07 14:28:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=226
2025-08-07 14:28:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=226
2025-08-07 14:28:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:28:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:28:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:28:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:28:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:28:35 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 22428 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:28:35 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:28:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:28:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 14:28:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:28:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:28:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:28:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:28:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 682 ms
2025-08-07 14:28:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:28:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@231b35fb
2025-08-07 14:28:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:28:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:28:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:28:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:28:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:28:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:28:36 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:28:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:28:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:28:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:28:37 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:28:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:28:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:28:38 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.891 seconds (process running for 3.123)
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:28:45 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 228
2025-08-07 14:28:45 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=228
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=228
2025-08-07 14:28:45 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:28:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=228, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:28:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:28:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:28:47 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @12645ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:28:47 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:28:47 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:28:47 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@9420c59{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:28:47 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @12700ms
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:28:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=228, port=12345
2025-08-07 14:28:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=228, 线程: Simulation-228 (无界面模式)
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-228
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=228
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=228
2025-08-07 14:28:48 [Simulation-228] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:28:48 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=228
2025-08-07 14:28:53 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=228
2025-08-07 14:28:53 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=228
2025-08-07 14:28:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:28:53 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:28:53 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=228, status=COMPLETED
2025-08-07 14:28:53 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=228
2025-08-07 14:29:12 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:29:12 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:29:12 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:29:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:29:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:29:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:29:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:29:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:32:36 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 45028 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:32:36 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:32:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:32:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 14:32:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:32:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:32:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:32:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:32:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 624 ms
2025-08-07 14:32:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:32:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 14:32:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:32:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:32:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:32:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:32:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:32:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:32:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:32:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:32:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:32:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:32:38 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:32:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:32:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:32:38 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.795 seconds (process running for 3.342)
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=1
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=1, description=测试仿真
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00"}
2025-08-07 14:32:41 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 230
2025-08-07 14:32:41 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=230
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=230
2025-08-07 14:32:41 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:32:41 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=230, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00"},runId:230
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:32:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00}
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:32:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:32:43 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @8683ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:32:43 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:32:43 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:32:43 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5f610e60{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:32:43 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @8764ms
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:32:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:32:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:32:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=230, port=12345
2025-08-07 14:32:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=230, 线程: Simulation-230 (无界面模式)
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-230
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=230
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=230
2025-08-07 14:32:44 [Simulation-230] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:32:44 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=230
2025-08-07 14:32:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=230
2025-08-07 14:32:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=230
2025-08-07 14:32:49 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:32:49 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:32:49 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:32:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=230, status=COMPLETED
2025-08-07 14:32:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=230
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:50 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:51 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:52 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:32:53 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:35:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:35:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:35:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:35:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:35:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:35:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:35:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:35:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:39:06 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 42268 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:39:06 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:39:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:39:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 14:39:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:39:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:39:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:39:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:39:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 606 ms
2025-08-07 14:39:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:39:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10d18696
2025-08-07 14:39:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:39:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:39:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:39:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:39:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:39:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:39:08 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:39:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:39:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:39:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:39:09 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:39:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:39:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:39:09 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.651 seconds (process running for 2.881)
2025-08-07 14:39:13 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:39:13 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:39:13 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 14:39:13 [http-nio-9527-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name]
2025-08-07 14:39:25 [http-nio-9527-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name]
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00","runId":null}
2025-08-07 14:39:30 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 231
2025-08-07 14:39:30 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=231
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=231
2025-08-07 14:39:30 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:39:30 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=231, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00","runId":null}
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:39:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00, runId=null}
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:39:32 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - × 设置智能体参数失败: runId = null, 错误: Can not set int field nanjingdong.Main.runId to null value
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:39:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:39:32 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @26441ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:39:32 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:39:32 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:39:32 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5e78cb0b{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:39:32 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @26491ms
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:39:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:39:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:39:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=231, port=12345
2025-08-07 14:39:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=231, 线程: Simulation-231 (无界面模式)
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-231
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=231
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=231
2025-08-07 14:39:33 [Simulation-231] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:39:33 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=231
2025-08-07 14:39:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=231
2025-08-07 14:39:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=231
2025-08-07 14:39:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:39:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:39:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:39:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=231, status=COMPLETED
2025-08-07 14:39:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=231
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:39 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:40 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:41 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:42 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:39:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:39:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:39:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:39:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:39:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:39:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:39:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:39:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:40:10 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 45120 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:40:10 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:40:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:40:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 14:40:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:40:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:40:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:40:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:40:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 665 ms
2025-08-07 14:40:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:40:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 14:40:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:40:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:40:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:40:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:40:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:40:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:40:11 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:40:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:40:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:40:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:40:12 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:40:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:40:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:40:12 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.813 seconds (process running for 3.056)
2025-08-07 14:40:15 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:40:15 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:40:15 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00","runId":null}
2025-08-07 14:40:16 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 232
2025-08-07 14:40:16 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=232
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=232
2025-08-07 14:40:16 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:40:16 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=232, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00","runId":232,null}
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:40:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:40:18 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 解析或应用智能体参数失败: Unexpected character ('n' (code 110)): was expecting double-quote to start field name
 at [Source: (String)"{"simulTargetTime":"2025-05-31 17:30:00","runId":232,null}"; line: 1, column: 55]
com.fasterxml.jackson.core.JsonParseException: Unexpected character ('n' (code 110)): was expecting double-quote to start field name
 at [Source: (String)"{"simulTargetTime":"2025-05-31 17:30:00","runId":232,null}"; line: 1, column: 55]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2418)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:749)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:673)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1937)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:965)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:608)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)
	at com.simulation.demo.service.AnyLogicModelService.applyAgentParameters(AnyLogicModelService.java:880)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:345)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:275)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:76)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:40:18 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @8717ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:40:18 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:40:18 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 14:40:18 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@456e5385{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:40:18 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @8794ms
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:40:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:40:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:40:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=232, port=12345
2025-08-07 14:40:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=232, 线程: Simulation-232 (无界面模式)
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-232
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=232
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=232
2025-08-07 14:40:18 [Simulation-232] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:40:18 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=232
2025-08-07 14:40:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=232
2025-08-07 14:40:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=232
2025-08-07 14:40:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:40:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:40:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:40:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=232, status=COMPLETED
2025-08-07 14:40:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=232
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:24 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:25 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:26 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:27 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:40:33 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:40:33 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:40:33 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:40:33 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:40:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:40:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:40:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:40:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:41:00 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44016 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:41:00 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:41:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:41:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 14:41:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:41:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:41:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:41:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:41:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 659 ms
2025-08-07 14:41:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:41:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5cff729b
2025-08-07 14:41:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:41:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:41:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:41:01 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:41:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:41:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:41:01 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:41:02 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:41:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:41:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:41:02 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:41:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:41:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:41:02 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.795 seconds (process running for 3.017)
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00","runId":null}
2025-08-07 14:41:05 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 233
2025-08-07 14:41:05 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=233
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=233
2025-08-07 14:41:05 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:41:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=233, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00","runId":233,}
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:41:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:41:07 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 解析或应用智能体参数失败: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
 at [Source: (String)"{"simulTargetTime":"2025-05-31 17:30:00","runId":233,}"; line: 1, column: 55]
com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
 at [Source: (String)"{"simulTargetTime":"2025-05-31 17:30:00","runId":233,}"; line: 1, column: 55]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2418)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:749)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:673)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1937)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:965)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:608)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)
	at com.simulation.demo.service.AnyLogicModelService.applyAgentParameters(AnyLogicModelService.java:880)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:345)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:275)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:76)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:41:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:41:07 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @7835ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:41:07 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:41:07 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 14:41:07 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@40992dfa{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:41:07 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @7887ms
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:41:08 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:41:08 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:41:08 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=233, port=12345
2025-08-07 14:41:08 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=233, 线程: Simulation-233 (无界面模式)
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-233
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=233
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=233
2025-08-07 14:41:08 [Simulation-233] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:41:08 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=233
2025-08-07 14:41:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=233
2025-08-07 14:41:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=233
2025-08-07 14:41:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:41:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:41:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:41:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=233, status=COMPLETED
2025-08-07 14:41:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=233
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:14 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:15 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:16 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:18 [AnyLogic模型执行线程] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1452-23000: Cannot add or update a child row: a foreign key constraint fails (`simulationpeds`.`pedestrian_data`, CONSTRAINT `pedestrian_data_ibfk_1` FOREIGN KEY (`run_id`) REFERENCES `simulation_runs` (`run_id`) ON DELETE CASCADE)
2025-08-07 14:41:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:41:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:41:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:41:19 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:41:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:41:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:41:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:41:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 14:42:25 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 39844 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 14:42:25 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 14:42:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 14:42:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 14:42:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 14:42:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 14:42:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 14:42:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 14:42:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 662 ms
2025-08-07 14:42:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 14:42:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@231b35fb
2025-08-07 14:42:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 14:42:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 14:42:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 14:42:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 14:42:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 14:42:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 14:42:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 14:42:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 14:42:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:42:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 14:42:27 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 14:42:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 14:42:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 14:42:27 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.784 seconds (process running for 3.007)
2025-08-07 14:42:31 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 14:42:31 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 14:42:31 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 17:30:00","runId":null}
2025-08-07 14:42:32 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 234
2025-08-07 14:42:32 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=234
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=234
2025-08-07 14:42:32 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:42:32 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=234, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 17:30:00","runId":234}
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 14:42:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 17:30:00, runId=234}
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 17:30:00
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 234
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 14:42:34 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @9432ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 14:42:34 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 14:42:34 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 14:42:34 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1ec33c35{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 14:42:34 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @9482ms
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 14:42:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:42:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:42:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=234, port=12345
2025-08-07 14:42:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=234, 线程: Simulation-234 (无界面模式)
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-234
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=234
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=234
2025-08-07 14:42:34 [Simulation-234] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 14:42:34 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=234
2025-08-07 14:42:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真执行已完成 run_id=234
2025-08-07 14:42:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=234
2025-08-07 14:42:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:42:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 14:42:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 14:42:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=234, status=COMPLETED
2025-08-07 14:42:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=234
2025-08-07 14:43:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 14:43:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 14:43:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 14:43:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 14:43:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 14:43:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 14:43:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 14:43:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:00:31 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 42448 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:00:31 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:00:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:00:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 15:00:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:00:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:00:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:00:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:00:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 678 ms
2025-08-07 15:00:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:00:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6889f56f
2025-08-07 15:00:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:00:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:00:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:00:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:00:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:00:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:00:32 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:00:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:00:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:00:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:00:33 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:00:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:00:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:00:33 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.924 seconds (process running for 3.14)
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:00:41 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 239
2025-08-07 15:00:41 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=239
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=239
2025-08-07 15:00:41 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:00:41 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=239, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":239}
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:00:41 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=239}
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 239
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:00:44 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @13322ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:00:44 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:00:44 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:00:44 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7a574fd{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:00:44 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @13374ms
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:00:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:00:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:00:44 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=239, port=12345
2025-08-07 15:00:44 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=239, 线程: Simulation-239 (无界面模式)
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-239
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=239
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:44 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.378 秒 (run_id=239)
2025-08-07 15:00:45 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:45 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.393 秒 (run_id=239)
2025-08-07 15:00:46 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:46 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.408 秒 (run_id=239)
2025-08-07 15:00:47 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:47 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.416 秒 (run_id=239)
2025-08-07 15:00:48 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:48 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.426 秒 (run_id=239)
2025-08-07 15:00:49 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:49 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.436 秒 (run_id=239)
2025-08-07 15:00:50 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:50 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.437 秒 (run_id=239)
2025-08-07 15:00:51 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:51 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.44 秒 (run_id=239)
2025-08-07 15:00:52 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:52 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.44 秒 (run_id=239)
2025-08-07 15:00:53 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:53 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.443 秒 (run_id=239)
2025-08-07 15:00:54 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=239)
2025-08-07 15:00:54 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.445 秒 (run_id=239)
2025-08-07 15:00:55 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED (run_id=239)
2025-08-07 15:00:55 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.804 秒 (run_id=239)
2025-08-07 15:00:55 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=239
2025-08-07 15:00:55 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=239
2025-08-07 15:00:55 [Simulation-239] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:00:55 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=239
2025-08-07 15:00:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=239
2025-08-07 15:00:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:00:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:00:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:00:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=239, status=COMPLETED
2025-08-07 15:00:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=239
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:01:01 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 240
2025-08-07 15:01:01 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=240
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=240
2025-08-07 15:01:01 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:01:01 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=240, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":240}
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:01:01 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=240}
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 240
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:01:03 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:01:03 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:01:03 [Thread-22] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:01:03 [Thread-22] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:01:03 [Thread-22] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:01:03 [Thread-22] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:01:03 [Thread-22] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:01:03 [Thread-22] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:01:03 [Thread-22] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 15:01:03 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 15:01:03 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 15:01:03 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=240
2025-08-07 15:01:03 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=240
2025-08-07 15:01:03 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=240
2025-08-07 15:01:03 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:01:03 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:01:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:01:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:01:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:04:53 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 39504 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:04:53 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:04:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:04:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 15:04:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:04:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:04:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:04:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:04:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 609 ms
2025-08-07 15:04:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:04:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 15:04:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:04:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:04:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:04:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:04:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:04:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:04:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:04:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:04:55 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:04:55 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:04:56 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:04:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:04:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:04:56 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.706 seconds (process running for 2.928)
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:05:00 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 241
2025-08-07 15:05:00 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=241
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=241
2025-08-07 15:05:00 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:05:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=241, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":241}
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:05:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=241}
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 241
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:05:02 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @9169ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:05:02 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:05:02 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:05:02 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@282c73b9{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:05:02 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @9218ms
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:05:02 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:05:02 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:05:02 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=241, port=12345
2025-08-07 15:05:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=241, 线程: Simulation-241 (无界面模式)
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-241
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=241
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:02 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.377 秒 (run_id=241)
2025-08-07 15:05:03 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:03 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.384 秒 (run_id=241)
2025-08-07 15:05:04 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:04 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.394 秒 (run_id=241)
2025-08-07 15:05:05 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:05 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.407 秒 (run_id=241)
2025-08-07 15:05:06 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:06 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.422 秒 (run_id=241)
2025-08-07 15:05:07 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:07 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.424 秒 (run_id=241)
2025-08-07 15:05:08 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:08 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.427 秒 (run_id=241)
2025-08-07 15:05:09 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:09 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.429 秒 (run_id=241)
2025-08-07 15:05:10 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:10 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.431 秒 (run_id=241)
2025-08-07 15:05:11 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:11 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.433 秒 (run_id=241)
2025-08-07 15:05:12 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=241)
2025-08-07 15:05:12 [Simulation-241] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.434 秒 (run_id=241)
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=241
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=241
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=241
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功调用实验停止方法 run_id=241
2025-08-07 15:05:13 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:05:13 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:05:13 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:05:13 [SimulationCleanupHook] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=241, status=CANCELLED
2025-08-07 15:05:13 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=241
2025-08-07 15:05:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:05:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:05:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:05:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:13:07 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44588 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:13:07 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:13:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:13:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 15:13:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:13:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:13:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:13:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:13:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 684 ms
2025-08-07 15:13:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:13:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7739aac4
2025-08-07 15:13:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:13:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:13:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:13:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:13:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:13:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:13:08 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:13:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:13:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:13:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:13:09 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:13:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:13:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:13:09 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.842 seconds (process running for 3.089)
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:13:31 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 244
2025-08-07 15:13:31 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=244
2025-08-07 15:13:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=244
2025-08-07 15:13:31 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:13:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:13:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=244, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":244}
2025-08-07 15:13:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:13:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=244}
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 244
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:13:34 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @27821ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:13:34 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:13:34 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:13:34 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7a574fd{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:13:34 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @27867ms
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:13:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:13:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:13:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=244, port=12345
2025-08-07 15:13:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=244, 线程: Simulation-244 (无界面模式)
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-244
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=244
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:34 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.361 秒 (run_id=244)
2025-08-07 15:13:35 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:35 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.374 秒 (run_id=244)
2025-08-07 15:13:36 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:36 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.39 秒 (run_id=244)
2025-08-07 15:13:37 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:37 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.405 秒 (run_id=244)
2025-08-07 15:13:38 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:38 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.414 秒 (run_id=244)
2025-08-07 15:13:39 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:39 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.416 秒 (run_id=244)
2025-08-07 15:13:40 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:40 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.418 秒 (run_id=244)
2025-08-07 15:13:41 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:41 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.419 秒 (run_id=244)
2025-08-07 15:13:42 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:42 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.42 秒 (run_id=244)
2025-08-07 15:13:43 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:43 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.435 秒 (run_id=244)
2025-08-07 15:13:44 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=244)
2025-08-07 15:13:44 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.437 秒 (run_id=244)
2025-08-07 15:13:45 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED (run_id=244)
2025-08-07 15:13:45 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.246 秒 (run_id=244)
2025-08-07 15:13:45 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=244
2025-08-07 15:13:45 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=244
2025-08-07 15:13:45 [Simulation-244] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:13:45 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=244
2025-08-07 15:13:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=244
2025-08-07 15:13:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:13:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:13:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:13:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=244, status=COMPLETED
2025-08-07 15:13:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=244
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:14:14 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 245
2025-08-07 15:14:14 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=245
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=245
2025-08-07 15:14:14 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:14:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=245, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":245}
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:14:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=245}
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 245
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:14:16 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:14:16 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:14:16 [Thread-23] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:14:16 [Thread-23] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:14:16 [Thread-23] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:14:16 [Thread-23] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:14:16 [Thread-23] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:14:16 [Thread-23] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:14:16 [Thread-23] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 15:14:16 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 15:14:16 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 15:14:16 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=245
2025-08-07 15:14:16 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=245
2025-08-07 15:14:16 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=245
2025-08-07 15:14:16 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:14:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:14:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:14:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:14:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:14:55 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44460 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:14:55 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:14:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:14:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 15:14:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:14:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:14:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:14:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:14:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 663 ms
2025-08-07 15:14:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:14:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@353c6da1
2025-08-07 15:14:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:14:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:14:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:14:56 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:14:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:14:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:14:56 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:14:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:14:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:14:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:14:57 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:14:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:14:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:14:58 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.853 seconds (process running for 3.069)
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:15:04 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 246
2025-08-07 15:15:04 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=246
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=246
2025-08-07 15:15:04 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:15:04 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=246, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":246}
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:15:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=246}
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 246
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:15:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:15:06 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @11846ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:15:06 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:15:06 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 15:15:06 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5bbf766d{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:15:06 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @11892ms
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:15:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:15:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:15:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=246, port=12345
2025-08-07 15:15:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=246, 线程: Simulation-246 (无界面模式)
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-246
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=246
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:07 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.429 秒 (run_id=246)
2025-08-07 15:15:08 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:08 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.442 秒 (run_id=246)
2025-08-07 15:15:09 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:09 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.453 秒 (run_id=246)
2025-08-07 15:15:10 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:10 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.463 秒 (run_id=246)
2025-08-07 15:15:11 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:11 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.474 秒 (run_id=246)
2025-08-07 15:15:12 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:12 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.476 秒 (run_id=246)
2025-08-07 15:15:13 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:13 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.476 秒 (run_id=246)
2025-08-07 15:15:14 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:14 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.479 秒 (run_id=246)
2025-08-07 15:15:15 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:15 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.481 秒 (run_id=246)
2025-08-07 15:15:16 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:16 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.483 秒 (run_id=246)
2025-08-07 15:15:17 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=246)
2025-08-07 15:15:17 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.484 秒 (run_id=246)
2025-08-07 15:15:18 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED (run_id=246)
2025-08-07 15:15:18 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.852 秒 (run_id=246)
2025-08-07 15:15:18 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=246
2025-08-07 15:15:18 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=246
2025-08-07 15:15:18 [Simulation-246] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:15:18 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=246
2025-08-07 15:15:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=246
2025-08-07 15:15:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:15:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:15:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:15:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=246, status=COMPLETED
2025-08-07 15:15:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=246
2025-08-07 15:15:21 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 应用程序关闭，开始清理仿真资源...
2025-08-07 15:15:21 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始优雅关闭仿真服务...
2025-08-07 15:15:21 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真服务优雅关闭完成
2025-08-07 15:15:21 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:15:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:15:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:15:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:15:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:25:21 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 12244 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:25:21 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:25:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:25:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
2025-08-07 15:25:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:25:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:25:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:25:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:25:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 694 ms
2025-08-07 15:25:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:25:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5cff729b
2025-08-07 15:25:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:25:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:25:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:25:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:25:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:25:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:25:23 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:25:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:25:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:25:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:25:24 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:25:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:25:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:25:24 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.887 seconds (process running for 3.135)
2025-08-07 15:25:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 15:25:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 15:25:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 15:25:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:25:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:25:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:25:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:25:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:26:08 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 43344 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:26:08 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:26:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:26:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 15:26:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:26:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:26:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:26:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:26:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 661 ms
2025-08-07 15:26:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:26:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7739aac4
2025-08-07 15:26:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:26:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:26:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:26:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:26:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:26:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:26:09 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:26:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:26:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:26:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:26:10 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:26:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:26:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:26:10 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.711 seconds (process running for 2.934)
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:27:26 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 247
2025-08-07 15:27:26 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=247
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=247
2025-08-07 15:27:26 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:27:26 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=247, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":247}
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:27:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=247}
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 247
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:27:29 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @81383ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:27:29 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:27:29 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 15:27:29 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@64ed8617{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:27:29 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @81429ms
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:27:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:27:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:27:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=247, port=12345
2025-08-07 15:27:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=247, 线程: Simulation-247 (无界面模式)
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-247
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=247
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:29 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.366 秒 (run_id=247)
2025-08-07 15:27:30 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:30 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.389 秒 (run_id=247)
2025-08-07 15:27:31 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:31 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.401 秒 (run_id=247)
2025-08-07 15:27:32 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:32 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.414 秒 (run_id=247)
2025-08-07 15:27:33 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:33 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.418 秒 (run_id=247)
2025-08-07 15:27:34 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:34 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.419 秒 (run_id=247)
2025-08-07 15:27:35 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:35 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.42 秒 (run_id=247)
2025-08-07 15:27:36 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:36 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.42 秒 (run_id=247)
2025-08-07 15:27:37 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:37 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.423 秒 (run_id=247)
2025-08-07 15:27:38 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:38 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.43 秒 (run_id=247)
2025-08-07 15:27:39 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=247)
2025-08-07 15:27:39 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.433 秒 (run_id=247)
2025-08-07 15:27:40 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED (run_id=247)
2025-08-07 15:27:40 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.608 秒 (run_id=247)
2025-08-07 15:27:40 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=247
2025-08-07 15:27:40 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=247
2025-08-07 15:27:40 [Simulation-247] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:27:40 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=247
2025-08-07 15:27:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=247
2025-08-07 15:27:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:27:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:27:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:27:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=247, status=COMPLETED
2025-08-07 15:27:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=247
2025-08-07 15:27:46 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 15:27:46 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 15:27:46 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 15:27:46 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:27:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:27:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:27:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:27:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:28:53 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 40548 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:28:53 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:28:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:28:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 15:28:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:28:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:28:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:28:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:28:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 667 ms
2025-08-07 15:28:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:28:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 15:28:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:28:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:28:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:28:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:28:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:28:54 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:28:54 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:28:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:28:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:28:55 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:28:55 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:28:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:28:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:28:55 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.907 seconds (process running for 3.142)
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:29:03 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 248
2025-08-07 15:29:03 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=248
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=248
2025-08-07 15:29:03 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:29:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=248, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":248}
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:29:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=248}
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 248
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:29:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:29:05 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @13210ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:29:05 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:29:05 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 15:29:05 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@894a4e5{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:29:05 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @13303ms
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:29:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:29:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:29:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=248, port=12345
2025-08-07 15:29:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=248, 线程: Simulation-248 (无界面模式)
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-248
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=248
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:06 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.423 秒 (run_id=248)
2025-08-07 15:29:07 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:07 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.431 秒 (run_id=248)
2025-08-07 15:29:08 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:08 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.448 秒 (run_id=248)
2025-08-07 15:29:09 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:09 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.459 秒 (run_id=248)
2025-08-07 15:29:10 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:10 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.459 秒 (run_id=248)
2025-08-07 15:29:11 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:11 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.469 秒 (run_id=248)
2025-08-07 15:29:12 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:12 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.47 秒 (run_id=248)
2025-08-07 15:29:13 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:13 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.47 秒 (run_id=248)
2025-08-07 15:29:14 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:14 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.472 秒 (run_id=248)
2025-08-07 15:29:15 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:15 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.474 秒 (run_id=248)
2025-08-07 15:29:16 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING (run_id=248)
2025-08-07 15:29:16 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.486 秒 (run_id=248)
2025-08-07 15:29:17 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED (run_id=248)
2025-08-07 15:29:17 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.537 秒 (run_id=248)
2025-08-07 15:29:17 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=248
2025-08-07 15:29:17 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=248
2025-08-07 15:29:17 [Simulation-248] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:29:17 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=248
2025-08-07 15:29:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=248
2025-08-07 15:29:17 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:29:17 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:29:17 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:29:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=248, status=COMPLETED
2025-08-07 15:29:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=248
2025-08-07 15:29:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 15:29:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 15:29:26 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 15:29:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:29:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:29:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:29:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:29:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 15:56:02 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44608 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 15:56:02 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 15:56:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 15:56:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 15:56:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 15:56:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 15:56:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 15:56:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 15:56:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 683 ms
2025-08-07 15:56:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 15:56:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@231b35fb
2025-08-07 15:56:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 15:56:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 15:56:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 15:56:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 15:56:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 15:56:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 15:56:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 15:56:04 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 15:56:04 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:56:04 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 15:56:05 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 15:56:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 15:56:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 15:56:05 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.874 seconds (process running for 3.105)
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:56:15 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 254
2025-08-07 15:56:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=254
2025-08-07 15:56:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=254
2025-08-07 15:56:15 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:56:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=254, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:40:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":254}
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:40:00, realTimeScale=1000}
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:40:00
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:56:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=254}
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 254
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:56:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:56:18 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @16071ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 15:56:18 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:56:18 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 15:56:18 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@67e135d1{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 15:56:18 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @16128ms
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 15:56:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=254, port=12345
2025-08-07 15:56:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=254, 线程: Simulation-254 (无界面模式)
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-254
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=254
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:19 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.25 秒 (run_id=254)
2025-08-07 15:56:20 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:20 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.258 秒 (run_id=254)
2025-08-07 15:56:21 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:21 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.272 秒 (run_id=254)
2025-08-07 15:56:22 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:22 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.287 秒 (run_id=254)
2025-08-07 15:56:23 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:23 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.299 秒 (run_id=254)
2025-08-07 15:56:24 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:24 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.31 秒 (run_id=254)
2025-08-07 15:56:25 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:25 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.319 秒 (run_id=254)
2025-08-07 15:56:26 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:26 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.32 秒 (run_id=254)
2025-08-07 15:56:27 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:27 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.329 秒 (run_id=254)
2025-08-07 15:56:28 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=254)
2025-08-07 15:56:28 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.331 秒 (run_id=254)
2025-08-07 15:56:29 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: FINISHED (run_id=254)
2025-08-07 15:56:29 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.618 秒 (run_id=254)
2025-08-07 15:56:29 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=254
2025-08-07 15:56:29 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=254
2025-08-07 15:56:29 [Simulation-254] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 15:56:29 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=254
2025-08-07 15:56:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=254
2025-08-07 15:56:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:29 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:56:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=254, status=COMPLETED
2025-08-07 15:56:29 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=254
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 15:56:35 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 255
2025-08-07 15:56:35 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=255
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=255
2025-08-07 15:56:35 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 15:56:35 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=255, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":255}
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 15:56:35 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=255}
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 255
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 15:56:37 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 15:56:37 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 15:56:37 [Thread-26] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 15:56:37 [Thread-26] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 15:56:37 [Thread-26] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 15:56:37 [Thread-26] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 15:56:37 [Thread-26] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 15:56:37 [Thread-26] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 15:56:37 [Thread-26] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=255
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=255
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=255
2025-08-07 15:56:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功重置仿真 run_id=255
2025-08-07 15:56:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 15:56:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 15:56:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 15:56:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 15:56:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:03:15 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 42232 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:03:15 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:03:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:03:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 16:03:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:03:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:03:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:03:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:03:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 692 ms
2025-08-07 16:03:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:03:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26da1ba2
2025-08-07 16:03:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:03:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:03:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:03:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:03:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:03:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:03:16 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:03:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:03:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:03:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:03:18 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:03:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:03:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:03:18 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 3.03 seconds (process running for 3.273)
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 16:03:22 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 256
2025-08-07 16:03:22 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=256
2025-08-07 16:03:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=256
2025-08-07 16:03:22 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:03:22 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=256, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":256}
2025-08-07 16:03:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:03:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=256}
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 256
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 16:03:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 16:03:25 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @10377ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 16:03:25 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 16:03:25 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 16:03:25 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@67e135d1{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 16:03:25 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @10432ms
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:03:26 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:26 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:26 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=256, port=12345
2025-08-07 16:03:26 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=256, 线程: Simulation-256 (无界面模式)
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-256
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=256
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:26 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.327 秒 (run_id=256)
2025-08-07 16:03:27 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:27 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.338 秒 (run_id=256)
2025-08-07 16:03:28 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:28 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.379 秒 (run_id=256)
2025-08-07 16:03:29 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:29 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.383 秒 (run_id=256)
2025-08-07 16:03:30 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:30 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.396 秒 (run_id=256)
2025-08-07 16:03:31 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:31 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.411 秒 (run_id=256)
2025-08-07 16:03:32 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:32 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.416 秒 (run_id=256)
2025-08-07 16:03:33 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:33 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.426 秒 (run_id=256)
2025-08-07 16:03:34 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:34 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.436 秒 (run_id=256)
2025-08-07 16:03:35 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:35 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.451 秒 (run_id=256)
2025-08-07 16:03:36 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:36 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.462 秒 (run_id=256)
2025-08-07 16:03:37 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:37 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.469 秒 (run_id=256)
2025-08-07 16:03:38 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:38 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.48 秒 (run_id=256)
2025-08-07 16:03:39 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=256)
2025-08-07 16:03:39 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.495 秒 (run_id=256)
2025-08-07 16:03:40 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: FINISHED (run_id=256)
2025-08-07 16:03:40 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.965 秒 (run_id=256)
2025-08-07 16:03:40 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=256
2025-08-07 16:03:40 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=256
2025-08-07 16:03:40 [Simulation-256] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:03:40 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=256
2025-08-07 16:03:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=256
2025-08-07 16:03:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:03:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=256, status=COMPLETED
2025-08-07 16:03:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=256
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:03:44 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 257
2025-08-07 16:03:44 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=257
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=257
2025-08-07 16:03:44 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:03:44 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=257, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":257}
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 正在创建 Simulation 实例...
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? Simulation 实例创建成功
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:03:44 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 创建顶层智能体 ===
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=257}
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 257
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 16:03:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 16:03:45 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 16:03:45 [Thread-18] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 16:03:45 [Thread-18] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 16:03:45 [Thread-18] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 16:03:45 [Thread-18] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 16:03:45 [Thread-18] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 16:03:45 [Thread-18] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 16:03:45 [Thread-18] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=257
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=257
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=257
2025-08-07 16:03:45 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功重置仿真 run_id=257
2025-08-07 16:03:45 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:03:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:03:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:03:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:03:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:07:45 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 45452 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:07:45 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:07:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:07:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 16:07:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:07:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:07:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:07:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:07:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 624 ms
2025-08-07 16:07:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:07:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10d18696
2025-08-07 16:07:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:07:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:07:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:07:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:07:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:07:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:07:46 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:07:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:07:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:07:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:07:47 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:07:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:07:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:07:47 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.729 seconds (process running for 2.961)
2025-08-07 16:08:28 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 33228 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:08:28 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:08:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:08:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 16:08:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:08:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:08:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:08:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:08:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 626 ms
2025-08-07 16:08:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:08:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29bbc391
2025-08-07 16:08:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:08:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:08:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:08:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:08:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:08:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:08:29 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:08:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:08:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:08:30 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:08:30 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:08:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:08:31 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-07 16:08:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:08:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:08:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:08:31 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 16:08:31 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 9527 was already in use.

Action:

Identify and stop the process that's listening on port 9527 or configure this application to listen on another port.

2025-08-07 16:08:31 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:08:59 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 258
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=258
2025-08-07 16:08:59 [http-nio-9527-exec-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=258: java.lang.Error: Unresolved compilation problem: 
	The method getRoot() is undefined for the type Simulation

2025-08-07 16:08:59 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=258, status=FAILED
2025-08-07 16:08:59 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=258
2025-08-07 16:08:59 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:09:13 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 259
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=259
2025-08-07 16:09:13 [http-nio-9527-exec-3] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=259: java.lang.Error: Unresolved compilation problem: 
	The method getRoot() is undefined for the type Simulation

2025-08-07 16:09:13 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=259, status=FAILED
2025-08-07 16:09:13 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=259
2025-08-07 16:09:13 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=258
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=258
2025-08-07 16:09:23 [SimulationCleanupHook] WARN  c.s.d.service.AnyLogicModelService - 无法停止仿真 run_id=258 - 可能已经结束或不存在
2025-08-07 16:09:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=259
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=259
2025-08-07 16:09:23 [SimulationCleanupHook] WARN  c.s.d.service.AnyLogicModelService - 无法停止仿真 run_id=259 - 可能已经结束或不存在
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:09:23 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 16:09:24 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:09:24 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:09:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:09:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:09:40 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 40264 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:09:40 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:09:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:09:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 16:09:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:09:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:09:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:09:41 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:09:41 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 675 ms
2025-08-07 16:09:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:09:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b8b5020
2025-08-07 16:09:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:09:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:09:41 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:09:41 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:09:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:09:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:09:41 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:09:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:09:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:09:42 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:09:42 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:09:42 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:09:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:09:43 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.906 seconds (process running for 3.139)
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:09:46 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 260
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=260
2025-08-07 16:09:46 [http-nio-9527-exec-4] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=260: java.lang.Error: Unresolved compilation problem: 
	The method getRoot() is undefined for the type Simulation

2025-08-07 16:09:46 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=260, status=FAILED
2025-08-07 16:09:46 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=260
2025-08-07 16:09:46 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=260
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=260
2025-08-07 16:11:11 [SimulationCleanupHook] WARN  c.s.d.service.AnyLogicModelService - 无法停止仿真 run_id=260 - 可能已经结束或不存在
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:11:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:11:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 16:11:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:11:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:11:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:11:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:11:20 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 45896 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:11:20 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:11:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:11:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 16:11:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:11:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:11:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:11:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:11:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 690 ms
2025-08-07 16:11:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:11:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b022551
2025-08-07 16:11:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:11:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:11:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:11:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:11:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:11:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:11:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:11:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:11:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:11:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:11:22 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:11:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:11:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:11:23 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.836 seconds (process running for 3.064)
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:11:25 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 261
2025-08-07 16:11:25 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=261
2025-08-07 16:11:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=261
2025-08-07 16:11:25 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:11:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=261, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":261}
2025-08-07 16:11:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:11:25 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=261: java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type AnyLogicModelService.SimulationException

2025-08-07 16:11:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:11:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=261, status=FAILED
2025-08-07 16:11:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=261
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:11:52 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 262
2025-08-07 16:11:52 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=262
2025-08-07 16:11:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=262
2025-08-07 16:11:52 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:11:52 [SimulationWorker-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=262, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":262}
2025-08-07 16:11:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:11:52 [SimulationWorker-2] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=262: java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type AnyLogicModelService.SimulationException

2025-08-07 16:11:52 [SimulationWorker-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:52 [SimulationWorker-2] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:11:52 [SimulationWorker-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:11:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=262, status=FAILED
2025-08-07 16:11:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=262
2025-08-07 16:16:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:16:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:16:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:16:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:16:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:16:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:16:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:16:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:16:22 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 33632 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:16:22 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:16:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:16:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 16:16:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:16:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:16:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:16:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:16:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 662 ms
2025-08-07 16:16:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:16:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29bbc391
2025-08-07 16:16:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:16:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:16:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:16:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:16:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:16:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:16:23 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:16:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:16:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:16:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:16:24 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:16:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:16:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:16:24 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.803 seconds (process running for 3.05)
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:16:28 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 263
2025-08-07 16:16:28 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=263
2025-08-07 16:16:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=263
2025-08-07 16:16:28 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:16:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:16:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=263, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":263}
2025-08-07 16:16:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:16:28 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=263: java.lang.Error: Unresolved compilation problem: 
	Unhandled exception type AnyLogicModelService.SimulationException

2025-08-07 16:16:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:16:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:16:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:16:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=263, status=FAILED
2025-08-07 16:16:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=263
2025-08-07 16:22:58 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:22:58 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:22:58 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:22:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:22:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:22:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:22:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:22:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:24:38 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 43284 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:24:38 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:24:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:24:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 16:24:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:24:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:24:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:24:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:24:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 672 ms
2025-08-07 16:24:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:24:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b999ee8
2025-08-07 16:24:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:24:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:24:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:24:39 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:24:39 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:24:39 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:24:39 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:24:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:24:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:24:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:24:40 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:24:40 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:24:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:24:41 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.839 seconds (process running for 3.087)
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:24:46 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 264
2025-08-07 16:24:46 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=264
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=264
2025-08-07 16:24:46 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:24:46 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=264, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":264}
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:24:46 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 初始化全局ExperimentHost失败: com.anylogic.engine.ExperimentHost
java.lang.ClassNotFoundException: com.anylogic.engine.ExperimentHost
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:375)
	at com.simulation.demo.service.AnyLogicModelService.initializeGlobalExperimentHost(AnyLogicModelService.java:614)
	at com.simulation.demo.service.AnyLogicModelService.getOrCreateGlobalSimulation(AnyLogicModelService.java:594)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:444)
	at com.simulation.demo.service.AnyLogicModelService.lambda$startSimulationAsync$4(AnyLogicModelService.java:389)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$newThread$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=264
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=264
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=264
2025-08-07 16:24:46 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=264
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:24:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=264}
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 264
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 16:24:50 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.util.log - Logging initialized @12108ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 16:24:50 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 16:24:50 [Thread-3] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 16:24:50 [Thread-3] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7afd45a7{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 16:24:50 [Thread-3] INFO  org.eclipse.jetty.server.Server - Started @12159ms
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ExperimentHost启动成功，开始获取端口...
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 jn 字段: com.anylogic.engine.internal.webserver.StandaloneWebServer
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到 controller 字段: com.anylogic.engine.internal.webserver.StandaloneAnimationSessionController
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功获取到端口号: 12345
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 端口号验证: 有效端口范围 (1-65535)
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:24:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:24:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:24:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=264, port=12345
2025-08-07 16:24:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=264, 线程: Simulation-264 (无界面模式)
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-264
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=264
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:50 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.354 秒 (run_id=264)
2025-08-07 16:24:51 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:51 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.37 秒 (run_id=264)
2025-08-07 16:24:52 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:52 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.379 秒 (run_id=264)
2025-08-07 16:24:53 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:53 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.393 秒 (run_id=264)
2025-08-07 16:24:54 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:54 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.394 秒 (run_id=264)
2025-08-07 16:24:55 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:55 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.396 秒 (run_id=264)
2025-08-07 16:24:56 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:56 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.398 秒 (run_id=264)
2025-08-07 16:24:57 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:57 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.404 秒 (run_id=264)
2025-08-07 16:24:58 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:58 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.404 秒 (run_id=264)
2025-08-07 16:24:59 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:24:59 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.417 秒 (run_id=264)
2025-08-07 16:25:00 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:00 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.42 秒 (run_id=264)
2025-08-07 16:25:01 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:01 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.421 秒 (run_id=264)
2025-08-07 16:25:02 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:02 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.422 秒 (run_id=264)
2025-08-07 16:25:03 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:03 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.427 秒 (run_id=264)
2025-08-07 16:25:04 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:04 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.43 秒 (run_id=264)
2025-08-07 16:25:05 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:05 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.439 秒 (run_id=264)
2025-08-07 16:25:06 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:06 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.442 秒 (run_id=264)
2025-08-07 16:25:07 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:07 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.443 秒 (run_id=264)
2025-08-07 16:25:08 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:08 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.443 秒 (run_id=264)
2025-08-07 16:25:09 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:09 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 19.447 秒 (run_id=264)
2025-08-07 16:25:10 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 20 秒 (第21次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:10 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 20.458 秒 (run_id=264)
2025-08-07 16:25:11 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 21 秒 (第22次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:11 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 21.459 秒 (run_id=264)
2025-08-07 16:25:12 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 22 秒 (第23次检查) - 仿真状态: RUNNING (run_id=264)
2025-08-07 16:25:12 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 22.46 秒 (run_id=264)
2025-08-07 16:25:13 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 23 秒 (第24次检查) - 仿真状态: FINISHED (run_id=264)
2025-08-07 16:25:13 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 23.239 秒 (run_id=264)
2025-08-07 16:25:13 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=264
2025-08-07 16:25:13 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=264
2025-08-07 16:25:13 [Simulation-264] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:25:13 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=264
2025-08-07 16:25:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=264
2025-08-07 16:25:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:25:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:25:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:25:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=264, status=COMPLETED
2025-08-07 16:25:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=264
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:26:04 [http-nio-9527-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 265
2025-08-07 16:26:04 [http-nio-9527-exec-10] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=265
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=265
2025-08-07 16:26:04 [http-nio-9527-exec-10] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:26:04 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=265, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":265}
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=265}
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 265
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 通过ExperimentHost获取端口号...
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 初始化仿真...
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost...
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 启动ExperimentHost (无浏览器模式)...
2025-08-07 16:26:04 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 浏览器启动禁用配置完成
2025-08-07 16:26:04 [SimulationWorker-3] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 16:26:04 [Thread-21] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 16:26:04 [Thread-21] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 16:26:04 [Thread-21] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 16:26:04 [Thread-21] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 16:26:04 [Thread-21] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 16:26:04 [Thread-21] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 16:26:04 [Thread-21] ERROR spark.Spark - ignite failed
java.io.IOException: Failed to bind to /0.0.0.0:12345
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:349)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:234)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at org.eclipse.jetty.server.Server.doStart(Server.java:401)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)
	at spark.embeddedserver.jetty.EmbeddedJettyServer.ignite(EmbeddedJettyServer.java:154)
	at spark.Service.lambda$init$2(Service.java:633)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:555)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:337)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:294)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:89)
	at org.eclipse.jetty.server.ServerConnector.openAcceptChannel(ServerConnector.java:344)
	... 9 common frames omitted
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=265
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=265
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=265
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始安全清理仿真资源 run_id=265
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - ? 成功调用引擎finish方法 run_id=265, result=false
2025-08-07 16:26:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - ? 成功调用实验stop方法 run_id=265
2025-08-07 16:26:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - ? 跳过close方法调用，避免销毁模型和影响JVM run_id=265
2025-08-07 16:26:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:26:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:26:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:26:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:28:07 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 10800 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:28:07 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:28:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:28:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 3 JPA repository interfaces.
2025-08-07 16:28:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:28:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:28:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:28:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:28:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 771 ms
2025-08-07 16:28:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:28:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29bbc391
2025-08-07 16:28:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:28:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:28:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:28:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:28:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:28:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:28:09 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:28:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:28:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:28:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:28:10 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:28:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:28:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:28:10 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 3.367 seconds (process running for 3.617)
2025-08-07 16:28:14 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:28:14 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:28:14 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:28:15 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 266
2025-08-07 16:28:15 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=266
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=266
2025-08-07 16:28:15 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:28:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=266, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":266}
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:28:15 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 初始化全局ExperimentHost失败: com.anylogic.engine.ExperimentHost
java.lang.ClassNotFoundException: com.anylogic.engine.ExperimentHost
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:375)
	at com.simulation.demo.service.AnyLogicModelService.initializeGlobalExperimentHost(AnyLogicModelService.java:614)
	at com.simulation.demo.service.AnyLogicModelService.getOrCreateGlobalSimulation(AnyLogicModelService.java:594)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:444)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:389)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=266
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=266
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=266
2025-08-07 16:28:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=266
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:28:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=266}
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 266
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:28:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:28:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:28:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=266, port=12345
2025-08-07 16:28:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=266, 线程: Simulation-266 (无界面模式)
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-266
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=266
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:19 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.001 秒 (run_id=266)
2025-08-07 16:28:20 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:20 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.033 秒 (run_id=266)
2025-08-07 16:28:21 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:21 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.033 秒 (run_id=266)
2025-08-07 16:28:22 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:22 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.043 秒 (run_id=266)
2025-08-07 16:28:23 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:23 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.054 秒 (run_id=266)
2025-08-07 16:28:24 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:24 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.068 秒 (run_id=266)
2025-08-07 16:28:25 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:25 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.079 秒 (run_id=266)
2025-08-07 16:28:26 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:26 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.094 秒 (run_id=266)
2025-08-07 16:28:27 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:27 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.108 秒 (run_id=266)
2025-08-07 16:28:28 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:28 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.121 秒 (run_id=266)
2025-08-07 16:28:29 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:29 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.136 秒 (run_id=266)
2025-08-07 16:28:30 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:30 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.148 秒 (run_id=266)
2025-08-07 16:28:31 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:31 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.151 秒 (run_id=266)
2025-08-07 16:28:32 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:32 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.161 秒 (run_id=266)
2025-08-07 16:28:33 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:33 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.162 秒 (run_id=266)
2025-08-07 16:28:34 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:34 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.167 秒 (run_id=266)
2025-08-07 16:28:35 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:35 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.171 秒 (run_id=266)
2025-08-07 16:28:36 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:36 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.173 秒 (run_id=266)
2025-08-07 16:28:37 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=266)
2025-08-07 16:28:37 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.177 秒 (run_id=266)
2025-08-07 16:28:38 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: FINISHED (run_id=266)
2025-08-07 16:28:38 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.772 秒 (run_id=266)
2025-08-07 16:28:38 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=266
2025-08-07 16:28:38 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=266
2025-08-07 16:28:38 [Simulation-266] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:28:38 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=266
2025-08-07 16:28:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=266
2025-08-07 16:28:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:28:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:28:38 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:28:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=266, status=COMPLETED
2025-08-07 16:28:38 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=266
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:29:14 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 267
2025-08-07 16:29:14 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=267
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=267
2025-08-07 16:29:14 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=267, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":267}
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=267}
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 267
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=267, port=12345
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=267, 线程: Simulation-267 (无界面模式)
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-267
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=267
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=267)
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.772 秒 (run_id=267)
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=267
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=267
2025-08-07 16:29:14 [Simulation-267] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:29:14 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=267
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=267
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=267, status=COMPLETED
2025-08-07 16:29:14 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=267
2025-08-07 16:30:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:30:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:30:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:30:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:30:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:30:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:30:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:30:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:31:16 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 32608 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:31:16 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:31:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:31:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 16:31:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:31:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:31:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:31:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:31:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 683 ms
2025-08-07 16:31:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:31:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3487442d
2025-08-07 16:31:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:31:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:31:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:31:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:31:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:31:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:31:17 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:31:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:31:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:31:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:31:18 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:31:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:31:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:31:19 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.823 seconds (process running for 3.01)
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:31:20 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:31:21 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:31:21 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 268
2025-08-07 16:31:21 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=268
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=268
2025-08-07 16:31:21 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:31:21 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=268, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":268}
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=268
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=268
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=268
2025-08-07 16:31:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=268
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:31:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=268}
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 268
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:31:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:31:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:31:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=268, port=12345
2025-08-07 16:31:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=268, 线程: Simulation-268 (无界面模式)
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-268
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=268
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:24 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.0 秒 (run_id=268)
2025-08-07 16:31:25 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:25 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.012 秒 (run_id=268)
2025-08-07 16:31:26 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:26 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.013 秒 (run_id=268)
2025-08-07 16:31:27 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:27 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.024 秒 (run_id=268)
2025-08-07 16:31:28 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:28 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.04 秒 (run_id=268)
2025-08-07 16:31:29 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:29 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.048 秒 (run_id=268)
2025-08-07 16:31:30 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:30 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.062 秒 (run_id=268)
2025-08-07 16:31:31 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:31 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.062 秒 (run_id=268)
2025-08-07 16:31:32 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:32 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.076 秒 (run_id=268)
2025-08-07 16:31:33 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:33 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.091 秒 (run_id=268)
2025-08-07 16:31:34 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:34 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.093 秒 (run_id=268)
2025-08-07 16:31:35 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:35 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.109 秒 (run_id=268)
2025-08-07 16:31:36 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:36 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.122 秒 (run_id=268)
2025-08-07 16:31:37 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:37 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.123 秒 (run_id=268)
2025-08-07 16:31:38 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:38 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.136 秒 (run_id=268)
2025-08-07 16:31:39 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:39 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.151 秒 (run_id=268)
2025-08-07 16:31:40 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:40 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.156 秒 (run_id=268)
2025-08-07 16:31:41 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:41 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.171 秒 (run_id=268)
2025-08-07 16:31:42 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=268)
2025-08-07 16:31:42 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.181 秒 (run_id=268)
2025-08-07 16:31:43 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: FINISHED (run_id=268)
2025-08-07 16:31:43 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.368 秒 (run_id=268)
2025-08-07 16:31:43 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=268
2025-08-07 16:31:43 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=268
2025-08-07 16:31:43 [Simulation-268] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:31:43 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=268
2025-08-07 16:31:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=268
2025-08-07 16:31:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:31:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:31:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:31:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=268, status=COMPLETED
2025-08-07 16:31:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=268
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:32:02 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 269
2025-08-07 16:32:02 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=269
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=269
2025-08-07 16:32:02 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=269, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":269}
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=269}
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 269
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=269, port=12345
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=269, 线程: Simulation-269 (无界面模式)
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-269
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=269
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=269)
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.368 秒 (run_id=269)
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=269
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=269
2025-08-07 16:32:02 [Simulation-269] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:32:02 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=269
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=269
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=269, status=COMPLETED
2025-08-07 16:32:02 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=269
2025-08-07 16:33:53 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:33:53 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:33:53 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:33:53 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:33:53 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:33:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:33:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:33:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:34:01 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44000 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:34:01 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:34:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:34:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 16:34:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:34:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:34:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:34:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:34:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 620 ms
2025-08-07 16:34:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:34:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33e4b9c4
2025-08-07 16:34:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:34:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:34:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:34:02 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:34:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:34:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:34:02 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:34:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:34:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:34:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:34:04 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:34:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:34:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:34:04 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.801 seconds (process running for 3.024)
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:34:06 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 270
2025-08-07 16:34:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=270
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=270
2025-08-07 16:34:06 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:34:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=270, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":270}
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:34:06 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 初始化全局ExperimentHost失败: com.anylogic.engine.ExperimentHost
java.lang.ClassNotFoundException: com.anylogic.engine.ExperimentHost
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:375)
	at com.simulation.demo.service.AnyLogicModelService.initializeGlobalExperimentHost(AnyLogicModelService.java:614)
	at com.simulation.demo.service.AnyLogicModelService.getOrCreateGlobalSimulation(AnyLogicModelService.java:594)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:444)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:389)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=270
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=270
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=270
2025-08-07 16:34:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=270
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:34:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=270}
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 270
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:34:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:34:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:34:09 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=270, port=12345
2025-08-07 16:34:09 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=270, 线程: Simulation-270 (无界面模式)
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-270
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=270
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=270)
2025-08-07 16:34:09 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.0 秒 (run_id=270)
2025-08-07 16:34:10 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=270)
2025-08-07 16:34:10 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.001 秒 (run_id=270)
2025-08-07 16:34:11 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=270)
2025-08-07 16:34:11 [Simulation-270] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.015 秒 (run_id=270)
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=270
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=270
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 成功取消仿真任务 run_id=270
2025-08-07 16:34:11 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始安全清理仿真资源 run_id=270
2025-08-07 16:34:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:34:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:34:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:34:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:34:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:35:51 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 32452 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:35:51 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:35:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:35:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
2025-08-07 16:35:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:35:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:35:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:35:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:35:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 707 ms
2025-08-07 16:35:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:35:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b022551
2025-08-07 16:35:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:35:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:35:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:35:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:35:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:35:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:35:52 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:35:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:35:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:35:53 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:35:53 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:35:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:35:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:35:54 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.962 seconds (process running for 3.146)
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:35:56 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 271
2025-08-07 16:35:56 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=271
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=271
2025-08-07 16:35:56 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:35:56 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=271, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":271}
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:35:56 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 初始化全局ExperimentHost失败: com.anylogic.engine.gui.ExperimentHost.<init>()
java.lang.NoSuchMethodException: com.anylogic.engine.gui.ExperimentHost.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585)
	at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)
	at com.simulation.demo.service.AnyLogicModelService.initializeGlobalExperimentHost(AnyLogicModelService.java:615)
	at com.simulation.demo.service.AnyLogicModelService.getOrCreateGlobalSimulation(AnyLogicModelService.java:594)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:444)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:389)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=271
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=271
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=271
2025-08-07 16:35:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=271
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:35:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=271}
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 271
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:36:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:36:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:36:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=271, port=12345
2025-08-07 16:36:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=271, 线程: Simulation-271 (无界面模式)
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-271
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=271
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:00 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.0 秒 (run_id=271)
2025-08-07 16:36:01 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:01 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.028 秒 (run_id=271)
2025-08-07 16:36:02 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:02 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.035 秒 (run_id=271)
2025-08-07 16:36:03 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:03 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.045 秒 (run_id=271)
2025-08-07 16:36:04 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:04 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.05 秒 (run_id=271)
2025-08-07 16:36:05 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:05 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.063 秒 (run_id=271)
2025-08-07 16:36:06 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:06 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.073 秒 (run_id=271)
2025-08-07 16:36:07 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:07 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.089 秒 (run_id=271)
2025-08-07 16:36:08 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:08 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.091 秒 (run_id=271)
2025-08-07 16:36:09 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:09 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.105 秒 (run_id=271)
2025-08-07 16:36:10 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:10 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.109 秒 (run_id=271)
2025-08-07 16:36:11 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:11 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.123 秒 (run_id=271)
2025-08-07 16:36:12 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:12 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.128 秒 (run_id=271)
2025-08-07 16:36:13 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:13 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.143 秒 (run_id=271)
2025-08-07 16:36:14 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:14 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.146 秒 (run_id=271)
2025-08-07 16:36:15 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:15 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.148 秒 (run_id=271)
2025-08-07 16:36:16 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:16 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.149 秒 (run_id=271)
2025-08-07 16:36:17 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:17 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.165 秒 (run_id=271)
2025-08-07 16:36:18 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:18 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.178 秒 (run_id=271)
2025-08-07 16:36:19 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: RUNNING (run_id=271)
2025-08-07 16:36:19 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 19.192 秒 (run_id=271)
2025-08-07 16:36:20 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 20 秒 (第21次检查) - 仿真状态: FINISHED (run_id=271)
2025-08-07 16:36:20 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 19.893 秒 (run_id=271)
2025-08-07 16:36:20 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=271
2025-08-07 16:36:20 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=271
2025-08-07 16:36:20 [Simulation-271] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:36:20 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=271
2025-08-07 16:36:20 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=271
2025-08-07 16:36:20 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:36:20 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:36:20 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:36:20 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=271, status=COMPLETED
2025-08-07 16:36:20 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=271
2025-08-07 16:41:40 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:41:40 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:41:40 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:41:40 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:41:40 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:41:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:41:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:41:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:41:57 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 18284 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:41:57 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:41:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:41:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 16:41:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:41:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:41:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:41:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:41:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 678 ms
2025-08-07 16:41:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:41:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33e4b9c4
2025-08-07 16:41:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:41:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:41:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:41:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:41:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:41:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:41:58 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:41:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:41:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:41:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:41:59 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:42:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:42:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:42:00 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.804 seconds (process running for 3.085)
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:42:02 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 272
2025-08-07 16:42:02 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=272
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=272
2025-08-07 16:42:02 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:02 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=272, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":272}
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:42:02 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=272
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=272
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=272
2025-08-07 16:42:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=272
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:42:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=272}
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 272
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:42:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=272, port=12345
2025-08-07 16:42:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=272, 线程: Simulation-272 (无界面模式)
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-272
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=272
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:05 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.002 秒 (run_id=272)
2025-08-07 16:42:06 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:06 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.015 秒 (run_id=272)
2025-08-07 16:42:07 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:07 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.018 秒 (run_id=272)
2025-08-07 16:42:08 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:08 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.029 秒 (run_id=272)
2025-08-07 16:42:09 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:09 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.042 秒 (run_id=272)
2025-08-07 16:42:10 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:10 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.057 秒 (run_id=272)
2025-08-07 16:42:11 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:11 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.07 秒 (run_id=272)
2025-08-07 16:42:13 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:13 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.083 秒 (run_id=272)
2025-08-07 16:42:14 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:14 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.098 秒 (run_id=272)
2025-08-07 16:42:15 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:15 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.113 秒 (run_id=272)
2025-08-07 16:42:16 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:16 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.128 秒 (run_id=272)
2025-08-07 16:42:17 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:17 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.14 秒 (run_id=272)
2025-08-07 16:42:18 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:18 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.152 秒 (run_id=272)
2025-08-07 16:42:19 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:19 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.165 秒 (run_id=272)
2025-08-07 16:42:20 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:20 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.181 秒 (run_id=272)
2025-08-07 16:42:21 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:21 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.192 秒 (run_id=272)
2025-08-07 16:42:22 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:22 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.206 秒 (run_id=272)
2025-08-07 16:42:23 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:23 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.222 秒 (run_id=272)
2025-08-07 16:42:24 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=272)
2025-08-07 16:42:24 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.234 秒 (run_id=272)
2025-08-07 16:42:25 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: FINISHED (run_id=272)
2025-08-07 16:42:25 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.461 秒 (run_id=272)
2025-08-07 16:42:25 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=272
2025-08-07 16:42:25 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=272
2025-08-07 16:42:25 [Simulation-272] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:42:25 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=272
2025-08-07 16:42:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=272
2025-08-07 16:42:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=272, status=COMPLETED
2025-08-07 16:42:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=272
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:42:31 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 273
2025-08-07 16:42:31 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=273
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=273
2025-08-07 16:42:31 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=273, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":273}
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=273}
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 273
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=273, port=12345
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=273, 线程: Simulation-273 (无界面模式)
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-273
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=273
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=273)
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.461 秒 (run_id=273)
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=273
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=273
2025-08-07 16:42:31 [Simulation-273] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:42:31 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=273
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=273
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=273, status=COMPLETED
2025-08-07 16:42:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=273
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:49:38 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 274
2025-08-07 16:49:38 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=274
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=274
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:49:38 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=274, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":274}
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=274}
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 274
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=274, port=12345
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=274, 线程: Simulation-274 (无界面模式)
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-274
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=274
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=274)
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.461 秒 (run_id=274)
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=274
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=274
2025-08-07 16:49:38 [Simulation-274] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:49:38 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=274
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=274
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=274, status=COMPLETED
2025-08-07 16:49:38 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=274
2025-08-07 16:49:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:49:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:49:43 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:49:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:49:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:49:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:49:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:49:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:49:58 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 43952 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:49:58 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:49:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:49:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 16:49:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:49:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:49:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:49:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:49:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 635 ms
2025-08-07 16:49:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:49:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b8b5020
2025-08-07 16:49:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:49:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:49:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:49:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:49:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:49:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:49:59 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:50:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:50:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:50:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:50:00 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:50:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:50:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:50:00 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.686 seconds (process running for 2.913)
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 16:50:03 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 275
2025-08-07 16:50:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=275
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=275
2025-08-07 16:50:03 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=275, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":275}
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:50:03 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=275
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=275
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=275
2025-08-07 16:50:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=275
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 暂停仿真 run_id=275
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 仿真已暂停 run_id=275
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:50:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=275}
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 275
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:50:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=275, port=12345
2025-08-07 16:50:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=275, 线程: Simulation-275 (无界面模式)
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-275
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=275
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:06 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.0 秒 (run_id=275)
2025-08-07 16:50:07 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:07 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.005 秒 (run_id=275)
2025-08-07 16:50:08 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:08 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.019 秒 (run_id=275)
2025-08-07 16:50:09 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:09 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.033 秒 (run_id=275)
2025-08-07 16:50:10 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:10 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.047 秒 (run_id=275)
2025-08-07 16:50:11 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:11 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.061 秒 (run_id=275)
2025-08-07 16:50:12 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:12 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.065 秒 (run_id=275)
2025-08-07 16:50:13 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:13 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.076 秒 (run_id=275)
2025-08-07 16:50:14 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:14 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 8.078 秒 (run_id=275)
2025-08-07 16:50:15 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 9 秒 (第10次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:15 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 9.09 秒 (run_id=275)
2025-08-07 16:50:16 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 10 秒 (第11次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:16 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 10.094 秒 (run_id=275)
2025-08-07 16:50:17 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 11 秒 (第12次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:17 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 11.099 秒 (run_id=275)
2025-08-07 16:50:18 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 12 秒 (第13次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:18 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 12.105 秒 (run_id=275)
2025-08-07 16:50:19 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 13 秒 (第14次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:19 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 13.106 秒 (run_id=275)
2025-08-07 16:50:20 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 14 秒 (第15次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:20 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 14.12 秒 (run_id=275)
2025-08-07 16:50:21 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 15 秒 (第16次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:21 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 15.135 秒 (run_id=275)
2025-08-07 16:50:22 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 16 秒 (第17次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:22 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 16.146 秒 (run_id=275)
2025-08-07 16:50:23 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 17 秒 (第18次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:23 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 17.162 秒 (run_id=275)
2025-08-07 16:50:24 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 18 秒 (第19次检查) - 仿真状态: RUNNING (run_id=275)
2025-08-07 16:50:24 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.165 秒 (run_id=275)
2025-08-07 16:50:25 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 19 秒 (第20次检查) - 仿真状态: FINISHED (run_id=275)
2025-08-07 16:50:25 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.375 秒 (run_id=275)
2025-08-07 16:50:25 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=275
2025-08-07 16:50:25 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=275
2025-08-07 16:50:25 [Simulation-275] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:50:25 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=275
2025-08-07 16:50:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=275
2025-08-07 16:50:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=275, status=COMPLETED
2025-08-07 16:50:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=275
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 16:50:28 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 276
2025-08-07 16:50:28 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=276
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=276
2025-08-07 16:50:28 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=276, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":276}
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=276}
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 276
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=276, port=12345
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=276, 线程: Simulation-276 (无界面模式)
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-276
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=276
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=276)
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.375 秒 (run_id=276)
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=276
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=276
2025-08-07 16:50:28 [Simulation-276] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:50:28 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=276
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=276
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=276, status=COMPLETED
2025-08-07 16:50:28 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=276
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 16:52:32 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 277
2025-08-07 16:52:32 [http-nio-9527-exec-6] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=277
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=277
2025-08-07 16:52:32 [http-nio-9527-exec-6] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=277, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":277}
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=277}
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 277
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=277, port=12345
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=277, 线程: Simulation-277 (无界面模式)
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-277
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=277
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=277)
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 18.375 秒 (run_id=277)
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=277
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=277
2025-08-07 16:52:32 [Simulation-277] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:52:32 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=277
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=277
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=277, status=COMPLETED
2025-08-07 16:52:32 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=277
2025-08-07 16:53:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 16:53:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 16:53:37 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 16:53:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 16:53:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 16:53:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:53:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 16:53:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 16:53:54 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 49964 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 16:53:54 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 16:53:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 16:53:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 16:53:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 16:53:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 16:53:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 16:53:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 16:53:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 677 ms
2025-08-07 16:53:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 16:53:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10d18696
2025-08-07 16:53:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 16:53:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 16:53:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 16:53:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 16:53:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 16:53:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 16:53:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 16:53:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 16:53:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 16:53:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 16:53:56 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 16:53:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 16:53:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 16:53:56 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.819 seconds (process running for 3.064)
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 16:54:04 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 278
2025-08-07 16:54:04 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=278
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=278
2025-08-07 16:54:04 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:04 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=278, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":278}
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 16:54:04 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 检测到仿真正在运行，执行重置 run_id=278
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=278
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=278
2025-08-07 16:54:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=278
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 暂停仿真 run_id=278
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 仿真已暂停 run_id=278
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:54:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=278}
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 278
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:54:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=278, port=12345
2025-08-07 16:54:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=278, 线程: Simulation-278 (无界面模式)
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-278
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=278
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:07 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 0.001 秒 (run_id=278)
2025-08-07 16:54:08 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 1 秒 (第2次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:08 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 1.017 秒 (run_id=278)
2025-08-07 16:54:09 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 2 秒 (第3次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:09 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 2.025 秒 (run_id=278)
2025-08-07 16:54:10 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 3 秒 (第4次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:10 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 3.039 秒 (run_id=278)
2025-08-07 16:54:11 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 4 秒 (第5次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:11 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 4.052 秒 (run_id=278)
2025-08-07 16:54:12 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 5 秒 (第6次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:12 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 5.063 秒 (run_id=278)
2025-08-07 16:54:13 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 6 秒 (第7次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:13 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 6.065 秒 (run_id=278)
2025-08-07 16:54:14 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 7 秒 (第8次检查) - 仿真状态: RUNNING (run_id=278)
2025-08-07 16:54:14 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.071 秒 (run_id=278)
2025-08-07 16:54:15 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 8 秒 (第9次检查) - 仿真状态: FINISHED (run_id=278)
2025-08-07 16:54:15 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.979 秒 (run_id=278)
2025-08-07 16:54:15 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=278
2025-08-07 16:54:15 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=278
2025-08-07 16:54:15 [Simulation-278] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:54:15 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=278
2025-08-07 16:54:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=278
2025-08-07 16:54:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:15 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=278, status=COMPLETED
2025-08-07 16:54:15 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=278
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 16:54:32 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 279
2025-08-07 16:54:32 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=279
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=279
2025-08-07 16:54:32 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=279, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":279}
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=279}
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 279
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=279, port=12345
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=279, 线程: Simulation-279 (无界面模式)
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-279
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=279
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 监控时间: 0 秒 (第1次检查) - 仿真状态: FINISHED (run_id=279)
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 当前仿真时间: 7.979 秒 (run_id=279)
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=279
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=279
2025-08-07 16:54:32 [Simulation-279] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 16:54:32 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=279
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=279
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=279, status=COMPLETED
2025-08-07 16:54:32 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=279
2025-08-07 17:05:06 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 6708 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:05:06 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:05:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:05:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 17:05:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:05:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:05:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:05:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:05:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 634 ms
2025-08-07 17:05:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:05:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5eb87338
2025-08-07 17:05:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:05:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:05:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:05:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:05:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:05:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:05:07 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:05:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:05:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:05:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:05:08 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:05:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:05:08 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-07 17:05:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:05:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:05:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:05:08 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 17:05:08 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 9527 was already in use.

Action:

Identify and stop the process that's listening on port 9527 or configure this application to listen on another port.

2025-08-07 17:05:08 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:05:31 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 45020 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:05:31 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:05:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:05:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 17:05:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:05:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:05:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:05:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:05:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 676 ms
2025-08-07 17:05:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:05:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:05:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:05:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:05:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:05:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:05:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:05:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:05:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29bbc391
2025-08-07 17:05:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:05:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:05:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:05:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:05:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:05:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:05:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:05:32 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:05:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:05:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:05:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:05:33 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:05:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:05:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:05:34 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 3.065 seconds (process running for 3.336)
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:05:40 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 280
2025-08-07 17:05:40 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=280
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=280
2025-08-07 17:05:40 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=280, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":280}
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:05:40 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:05:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=280}
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 280
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:05:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:43 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=280, port=12345
2025-08-07 17:05:43 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=280, 线程: Simulation-280 (无界面模式)
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-280
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=280
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:05:43 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:44 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:45 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:46 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:47 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:48 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:49 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:50 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:51 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:05:52 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:05:52 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=280
2025-08-07 17:05:52 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=280
2025-08-07 17:05:52 [Simulation-280] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:05:52 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=280
2025-08-07 17:05:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=280
2025-08-07 17:05:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:52 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=280, status=COMPLETED
2025-08-07 17:05:52 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=280
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:05:54 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 281
2025-08-07 17:05:54 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=281
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=281
2025-08-07 17:05:54 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=281, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":281}
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=281}
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 281
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=281, port=12345
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=281, 线程: Simulation-281 (无界面模式)
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-281
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=281
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=281
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=281
2025-08-07 17:05:54 [Simulation-281] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:05:54 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=281
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=281
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=281, status=COMPLETED
2025-08-07 17:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=281
2025-08-07 17:11:15 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:11:15 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:11:15 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:11:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:11:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:11:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:11:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:11:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:11:27 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 28220 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:11:27 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:11:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:11:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2025-08-07 17:11:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:11:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:11:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:11:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:11:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 730 ms
2025-08-07 17:11:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:11:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31ab1e67
2025-08-07 17:11:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:11:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:11:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:11:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:11:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:11:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:11:28 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:11:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:11:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:11:29 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:11:29 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:11:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:11:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:11:29 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.93 seconds (process running for 3.166)
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:11:31 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 282
2025-08-07 17:11:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=282
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=282
2025-08-07 17:11:31 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=282, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":282}
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:11:31 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:11:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=282}
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 282
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:11:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=282, port=12345
2025-08-07 17:11:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=282, 线程: Simulation-282 (无界面模式)
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-282
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=282
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:11:33 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:34 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:35 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:36 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:37 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:38 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:39 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:40 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:41 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:11:42 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:11:42 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=282
2025-08-07 17:11:42 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=282
2025-08-07 17:11:42 [Simulation-282] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:11:42 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=282
2025-08-07 17:11:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=282
2025-08-07 17:11:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=282, status=COMPLETED
2025-08-07 17:11:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=282
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:11:45 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 283
2025-08-07 17:11:45 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=283
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=283
2025-08-07 17:11:45 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=283, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":283}
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=283}
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 283
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=283, port=12345
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=283, 线程: Simulation-283 (无界面模式)
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-283
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=283
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=283
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=283
2025-08-07 17:11:45 [Simulation-283] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:11:45 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=283
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=283
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.status 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        status=? 
    where
        run_id=?
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=283, status=COMPLETED
2025-08-07 17:11:45 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=283
2025-08-07 17:18:02 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:18:02 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:18:02 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:18:02 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:18:02 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:18:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:18:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:18:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:22:25 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 47264 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:22:25 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:22:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:22:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 17:22:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:22:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:22:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:22:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:22:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 615 ms
2025-08-07 17:22:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:22:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4def7d36
2025-08-07 17:22:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:22:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:22:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:22:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:22:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:22:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:22:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:22:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:22:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:22:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:22:27 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
2025-08-07 17:22:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:22:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:22:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:22:27 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-07 17:22:27 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 17:22:27 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.simulation.demo.DemoApplication.main(DemoApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun' [SELECT sr FROM SimulationRun sr WHERE sr.status = 'RUNNING']
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 62 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun' [SELECT sr FROM SimulationRun sr WHERE sr.status = 'RUNNING']
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 71 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:198)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2548)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 76 common frames omitted
2025-08-07 17:24:57 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 1840 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:24:57 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:24:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:24:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 17:24:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:24:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:24:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:24:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:24:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 657 ms
2025-08-07 17:24:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:24:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4def7d36
2025-08-07 17:24:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:24:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:24:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:24:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:24:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:24:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:24:58 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:24:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:24:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:24:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:24:59 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
2025-08-07 17:24:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:24:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:24:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:24:59 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-07 17:24:59 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 17:24:59 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.simulation.demo.DemoApplication.main(DemoApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun' [SELECT sr FROM SimulationRun sr WHERE sr.status = 'RUNNING']
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 62 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun' [SELECT sr FROM SimulationRun sr WHERE sr.status = 'RUNNING']
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 71 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'status' of 'com.simulation.demo.entity.SimulationRun'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:198)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2548)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 76 common frames omitted
2025-08-07 17:26:44 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 17140 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:26:44 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:26:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:26:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 17:26:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:26:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:26:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:26:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:26:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 698 ms
2025-08-07 17:26:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:26:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4def7d36
2025-08-07 17:26:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:26:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:26:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:26:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:26:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:26:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:26:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:26:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:26:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:26:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:26:46 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
2025-08-07 17:26:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:26:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:26:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:26:46 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-07 17:26:46 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 17:26:46 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.simulation.demo.DemoApplication.main(DemoApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Cannot compare left expression of type 'com.anylogic.engine.Experiment$State' with right expression of type 'java.lang.String'
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 62 common frames omitted
Caused by: org.hibernate.query.SemanticException: Cannot compare left expression of type 'com.anylogic.engine.Experiment$State' with right expression of type 'java.lang.String'
	at org.hibernate.query.sqm.internal.TypecheckUtil.assertComparable(TypecheckUtil.java:406)
	at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.<init>(SqmComparisonPredicate.java:46)
	at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.<init>(SqmComparisonPredicate.java:32)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2567)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 71 common frames omitted
2025-08-07 17:30:24 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 48324 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:30:24 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:30:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:30:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 17:30:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:30:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:30:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:30:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:30:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 666 ms
2025-08-07 17:30:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:30:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a7b309b
2025-08-07 17:30:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:30:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:30:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:30:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:30:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:30:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:30:25 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:30:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:30:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:30:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:30:26 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
2025-08-07 17:30:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:30:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:30:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:30:26 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-07 17:30:26 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-07 17:30:26 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataController': Unsatisfied dependency expressed through field 'simulationDataService': Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.simulation.demo.DemoApplication.main(DemoApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'simulationDataService': Unsatisfied dependency expressed through field 'simulationRunRepository': Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simulationRunRepository' defined in com.simulation.demo.repository.SimulationRunRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations(); Reason: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.simulation.demo.repository.SimulationRunRepository.findRunningSimulations()
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Cannot compare left expression of type 'com.anylogic.engine.Experiment$State' with right expression of type 'java.lang.String'
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 62 common frames omitted
Caused by: org.hibernate.query.SemanticException: Cannot compare left expression of type 'com.anylogic.engine.Experiment$State' with right expression of type 'java.lang.String'
	at org.hibernate.query.sqm.internal.TypecheckUtil.assertComparable(TypecheckUtil.java:406)
	at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.<init>(SqmComparisonPredicate.java:46)
	at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.<init>(SqmComparisonPredicate.java:32)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2567)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 71 common frames omitted
2025-08-07 17:31:44 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 2360 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:31:44 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:31:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:31:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 17:31:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:31:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:31:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:31:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:31:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 676 ms
2025-08-07 17:31:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:31:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b999ee8
2025-08-07 17:31:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:31:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:31:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:31:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:31:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:31:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:31:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:31:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:31:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:31:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:31:47 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:31:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:31:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:31:47 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.878 seconds (process running for 3.114)
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:31:51 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 284
2025-08-07 17:31:51 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=284
2025-08-07 17:31:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=284
2025-08-07 17:31:51 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:31:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:31:51 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真线程执行失败 run_id=284: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:430)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:31:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:31:51 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 更新仿真状态失败 run_id=284: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.updateSimulationState(AnyLogicModelService.java:1220)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:573)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:31:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=284
2025-08-07 17:33:18 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:33:18 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:33:18 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:33:18 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:33:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:33:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:33:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:33:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:33:26 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 42796 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:33:26 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:33:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:33:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 17:33:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:33:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:33:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:33:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:33:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 673 ms
2025-08-07 17:33:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:33:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a3f96ab
2025-08-07 17:33:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:33:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:33:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:33:27 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:33:27 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:33:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:33:27 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:33:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:33:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:33:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:33:28 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:33:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:33:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:33:28 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.944 seconds (process running for 3.178)
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:33:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 285
2025-08-07 17:33:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=285
2025-08-07 17:33:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=285
2025-08-07 17:33:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:33:30 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:33:30 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真线程执行失败 run_id=285: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:430)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:33:30 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:33:30 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 更新仿真状态失败 run_id=285: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.updateSimulationState(AnyLogicModelService.java:1220)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:573)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:33:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=285
2025-08-07 17:34:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:34:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:34:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:34:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:34:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:34:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:34:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:34:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:34:44 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 21520 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:34:44 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:34:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:34:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 17:34:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:34:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:34:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:34:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:34:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 678 ms
2025-08-07 17:34:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:34:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a7b309b
2025-08-07 17:34:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:34:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:34:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:34:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:34:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:34:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:34:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:34:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:34:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:34:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:34:46 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:34:46 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:34:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:34:46 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.879 seconds (process running for 3.106)
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:34:50 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 286
2025-08-07 17:34:50 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=286
2025-08-07 17:34:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=286
2025-08-07 17:34:50 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:34:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:34:50 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真线程执行失败 run_id=286: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:430)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:34:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:34:50 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 更新仿真状态失败 run_id=286: Index 50 out of bounds for length 6
java.lang.ArrayIndexOutOfBoundsException: Index 50 out of bounds for length 6
	at org.hibernate.type.descriptor.java.EnumJavaType.fromByte(EnumJavaType.java:202)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:139)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:36)
	at org.hibernate.type.descriptor.jdbc.TinyIntJdbcType$2.doExtract(TinyIntJdbcType.java:91)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:387)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:152)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:54)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:60)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.extractConcreteTypeStateValues(EntityInitializerImpl.java:1607)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeEntityInstance(EntityInitializerImpl.java:1333)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:1312)
	at org.hibernate.sql.results.graph.entity.internal.EntityInitializerImpl.initializeInstance(EntityInitializerImpl.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:244)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:141)
	at org.hibernate.sql.results.spi.ListResultsConsumer.readUniqueAssert(ListResultsConsumer.java:262)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:74)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3895)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3884)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:289)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1229)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1217)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:210)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:161)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:113)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:150)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2459)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy128.find(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.findById(Unknown Source)
	at com.simulation.demo.service.AnyLogicModelService.updateSimulationState(AnyLogicModelService.java:1220)
	at com.simulation.demo.service.AnyLogicModelService.runSimulationInThread(AnyLogicModelService.java:573)
	at com.simulation.demo.service.AnyLogicModelService.lambda$4(AnyLogicModelService.java:391)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at com.simulation.demo.service.AnyLogicModelService$1.lambda$0(AnyLogicModelService.java:83)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-08-07 17:34:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=286
2025-08-07 17:35:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:35:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:35:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:35:44 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:35:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:35:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:35:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:35:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:35:51 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 47448 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:35:51 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:35:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:35:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 17:35:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:35:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:35:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:35:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:35:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 659 ms
2025-08-07 17:35:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:35:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d37ee0c
2025-08-07 17:35:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:35:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:35:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:35:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:35:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:35:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:35:53 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:35:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:35:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:35:53 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:35:54 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:35:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:35:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:35:54 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.79 seconds (process running for 3.022)
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:36:01 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 287
2025-08-07 17:36:01 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=287
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=287
2025-08-07 17:36:01 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:01 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=287, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":287}
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:36:01 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:36:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=287}
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 287
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:36:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=287, port=12345
2025-08-07 17:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=287, 线程: Simulation-287 (无界面模式)
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-287
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=287
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:36:03 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:04 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:05 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:06 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:07 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:08 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:09 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:10 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:11 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:36:12 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:36:12 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=287
2025-08-07 17:36:12 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=287
2025-08-07 17:36:12 [Simulation-287] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:36:12 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=287
2025-08-07 17:36:12 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=287
2025-08-07 17:36:12 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:12 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:12 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:12 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=287, status=FINISHED
2025-08-07 17:36:12 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=287
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:36:15 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 288
2025-08-07 17:36:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=288
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=288
2025-08-07 17:36:15 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=288, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":288}
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: FINISHED
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体已存在
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=288}
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 288
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=288, port=12345
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=288, 线程: Simulation-288 (无界面模式)
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-288
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=288
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=288
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=288
2025-08-07 17:36:15 [Simulation-288] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:36:15 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=288
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=288
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=288, status=FINISHED
2025-08-07 17:36:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=288
2025-08-07 17:38:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:38:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:38:32 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:38:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:38:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:38:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:38:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:38:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:39:44 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 24780 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:39:44 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:39:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:39:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 17:39:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:39:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:39:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:39:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:39:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 655 ms
2025-08-07 17:39:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:39:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31ab1e67
2025-08-07 17:39:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:39:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:39:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:39:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:39:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:39:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:39:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:39:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:39:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:39:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:39:46 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:39:46 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:39:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:39:46 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.869 seconds (process running for 3.063)
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:39:49 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 289
2025-08-07 17:39:49 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=289
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=289
2025-08-07 17:39:49 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:39:49 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=289, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":289}
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:39:49 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:39:49 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=289}
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 289
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=289, port=12345
2025-08-07 17:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=289, 线程: Simulation-289 (无界面模式)
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-289
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 49
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=289
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:39:51 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:52 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:53 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:54 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:55 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:56 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:57 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:58 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:39:59 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 17:40:00 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 17:40:00 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=289
2025-08-07 17:40:00 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=289
2025-08-07 17:40:00 [Simulation-289] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:40:00 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=289
2025-08-07 17:40:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=289
2025-08-07 17:40:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:40:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=289, status=FINISHED
2025-08-07 17:40:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=289
2025-08-07 17:40:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=289
2025-08-07 17:40:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=289
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:40:07 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 290
2025-08-07 17:40:07 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=290
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=290
2025-08-07 17:40:07 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:40:07 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=290, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":290}
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:40:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=290}
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 290
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=290, port=12345
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=290, 线程: Simulation-290 (无界面模式)
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-290
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 52
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=290
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: ERROR
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 仿真已停止或出错 run_id=290
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=290
2025-08-07 17:40:09 [Simulation-290] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:40:09 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=290
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=290
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=290, status=FINISHED
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=290
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=290
2025-08-07 17:40:09 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=290
2025-08-07 17:43:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:43:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:43:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:43:19 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:43:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:43:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:43:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:43:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:43:27 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 18088 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:43:27 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:43:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:43:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 17:43:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:43:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:43:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:43:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:43:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 629 ms
2025-08-07 17:43:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:43:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a7b309b
2025-08-07 17:43:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:43:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:43:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:43:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:43:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:43:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:43:28 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:43:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:43:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:43:29 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:43:29 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:43:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:43:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:43:30 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.656 seconds (process running for 2.862)
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:43:35 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 291
2025-08-07 17:43:35 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=291
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=291
2025-08-07 17:43:35 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:43:35 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=291, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":291}
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:43:35 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=291: java.lang.Error: Unresolved compilation problem: 
	The method launch() is undefined for the type Object

2025-08-07 17:43:35 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:43:35 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:43:35 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=291, status=ERROR
2025-08-07 17:43:35 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=291
2025-08-07 17:44:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:44:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:44:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:44:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:44:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:44:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:44:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:44:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:46:25 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 44860 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:46:25 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:46:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:46:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 17:46:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:46:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:46:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:46:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:46:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 613 ms
2025-08-07 17:46:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:46:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@530ee28b
2025-08-07 17:46:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:46:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:46:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:46:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:46:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:46:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:46:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:46:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:46:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:46:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:46:27 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:46:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:46:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:46:27 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.704 seconds (process running for 2.94)
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:46:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 292
2025-08-07 17:46:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=292
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=292
2025-08-07 17:46:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:46:30 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=292, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":292}
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:46:30 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @5662ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 17:46:30 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 17:46:30 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 17:46:30 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@253bc571{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 17:46:30 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @5710ms
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 17:46:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=292}
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 292
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=292, port=12345
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=292, 线程: Simulation-292 (无界面模式)
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-292
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 67
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=292
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: ERROR
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 仿真已停止或出错 run_id=292
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=292
2025-08-07 17:46:33 [Simulation-292] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 17:46:33 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=292
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=292
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=292, status=FINISHED
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=292
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=292
2025-08-07 17:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=292
2025-08-07 17:46:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 17:46:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 17:46:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 17:46:54 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 17:46:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 17:46:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:46:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 17:46:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 17:47:33 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 1840 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 17:47:33 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 17:47:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 17:47:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
2025-08-07 17:47:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 17:47:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 17:47:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 17:47:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 17:47:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 713 ms
2025-08-07 17:47:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 17:47:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@530ee28b
2025-08-07 17:47:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 17:47:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 17:47:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 17:47:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 17:47:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 17:47:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 17:47:34 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 17:47:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 17:47:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 17:47:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 17:47:35 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 17:47:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 17:47:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 17:47:36 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.942 seconds (process running for 3.163)
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 17:47:39 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 293
2025-08-07 17:47:39 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=293
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=293
2025-08-07 17:47:39 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:47:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=293, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":293}
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 17:47:39 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @6233ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 17:47:39 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 17:47:39 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 17:47:39 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2e77b262{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 17:47:39 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @6297ms
2025-08-07 17:47:39 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 17:47:39 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=293: java.lang.Error: Unresolved compilation problems: 
	ParameterConversionUtils cannot be resolved
	ParameterConversionUtils cannot be resolved

2025-08-07 17:47:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:47:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 17:47:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=293, status=ERROR
2025-08-07 17:47:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=293
2025-08-07 19:03:35 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:03:35 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 19:03:35 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 19:03:35 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:03:35 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:03:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:03:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:03:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 19:03:44 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 51732 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 19:03:44 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 19:03:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 19:03:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 19:03:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 19:03:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 19:03:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 19:03:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 19:03:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 685 ms
2025-08-07 19:03:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 19:03:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d37ee0c
2025-08-07 19:03:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 19:03:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 19:03:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 19:03:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 19:03:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 19:03:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 19:03:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 19:03:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 19:03:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:03:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 19:03:46 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 19:03:46 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 19:03:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 19:03:46 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.917 seconds (process running for 3.163)
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 19:03:50 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 294
2025-08-07 19:03:50 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=294
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=294
2025-08-07 19:03:50 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:03:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=294, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":294}
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 19:03:50 [SimulationWorker-1] ERROR c.s.d.service.AnyLogicModelService - 仿真失败 run_id=294: java.lang.Error: Unresolved compilation problem: 
	The method setup(IExperimentHost) in the type Simulation is not applicable for the arguments (Object)

2025-08-07 19:03:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:03:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:03:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=294, status=ERROR
2025-08-07 19:03:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=294
2025-08-07 19:04:27 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:04:27 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 19:04:27 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 19:04:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:04:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:04:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:04:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:04:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 19:04:35 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 50124 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 19:04:35 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 19:04:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 19:04:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 19:04:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 19:04:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 19:04:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 19:04:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 19:04:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 662 ms
2025-08-07 19:04:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 19:04:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d850a25
2025-08-07 19:04:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 19:04:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 19:04:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 19:04:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 19:04:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 19:04:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 19:04:36 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 19:04:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 19:04:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:04:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 19:04:37 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 19:04:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 19:04:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 19:04:37 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.852 seconds (process running for 3.086)
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 19:04:39 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 295
2025-08-07 19:04:39 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=295
2025-08-07 19:04:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=295
2025-08-07 19:04:39 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:04:39 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:04:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=295, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":295}
2025-08-07 19:04:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:04:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 19:04:39 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 19:04:39 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @5095ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 19:04:39 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 19:04:39 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 19:04:39 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@281ca65e{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 19:04:39 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @5157ms
2025-08-07 19:04:40 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:04:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=295}
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 295
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:04:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:04:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:04:42 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=295, port=12345
2025-08-07 19:04:42 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=295, 线程: Simulation-295 (无界面模式)
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-295
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 69
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=295
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:04:42 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:43 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:44 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:45 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:46 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:47 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:48 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:49 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:04:51 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: IDLE
2025-08-07 19:04:51 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真已停止或出错 run_id=295
2025-08-07 19:04:51 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=295
2025-08-07 19:04:51 [Simulation-295] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:04:51 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=295
2025-08-07 19:04:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:04:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 19:04:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=295
2025-08-07 19:04:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 19:04:51 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 19:04:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:04:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:04:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:04:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:04:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=295, status=FINISHED
2025-08-07 19:04:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=295
2025-08-07 19:04:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=295
2025-08-07 19:04:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=295
2025-08-07 19:04:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:04:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:04:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:04:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 19:05:25 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 5808 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 19:05:25 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 19:05:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 19:05:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2025-08-07 19:05:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 19:05:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 19:05:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 19:05:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 19:05:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 620 ms
2025-08-07 19:05:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 19:05:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d37ee0c
2025-08-07 19:05:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 19:05:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 19:05:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 19:05:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 19:05:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 19:05:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 19:05:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 19:05:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 19:05:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:05:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 19:05:27 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 19:05:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 19:05:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 19:05:27 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.72 seconds (process running for 2.955)
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 19:05:31 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 296
2025-08-07 19:05:31 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=296
2025-08-07 19:05:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=296
2025-08-07 19:05:31 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:05:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=296, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":296}
2025-08-07 19:05:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:05:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 19:05:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 19:05:31 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @6785ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 19:05:31 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 19:05:31 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 19:05:31 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6c7d5060{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 19:05:31 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @6857ms
2025-08-07 19:05:32 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:05:32 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=296}
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:05:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 296
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:05:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=296, port=12345
2025-08-07 19:05:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=296, 线程: Simulation-296 (无界面模式)
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-296
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=296
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:05:34 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:35 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:36 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:37 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:38 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:39 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:40 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:41 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:42 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:43 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:44 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:45 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:05:45 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=296
2025-08-07 19:05:45 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=296
2025-08-07 19:05:45 [Simulation-296] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:05:45 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=296
2025-08-07 19:05:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=296
2025-08-07 19:05:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:45 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:05:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=296, status=FINISHED
2025-08-07 19:05:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=296
2025-08-07 19:05:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=296
2025-08-07 19:05:45 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=296
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:40:00","runId":null}
2025-08-07 19:05:53 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 297
2025-08-07 19:05:53 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=297
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=297
2025-08-07 19:05:53 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:05:53 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=297, engineParams={"startDate":"2025-05-31 15:40:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:40:00","runId":297}
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:40:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:40:00
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:05:53 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:40:00, runId=297}
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:40:00
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:40:00
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 297
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:05:54 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=297, port=12345
2025-08-07 19:05:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=297, 线程: Simulation-297 (无界面模式)
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-297
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 76
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=297
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:05:54 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:55 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:56 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:57 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:58 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:05:59 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:00 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:01 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:02 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:03 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:04 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:05 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:06 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:06:06 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=297
2025-08-07 19:06:06 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=297
2025-08-07 19:06:06 [Simulation-297] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:06:06 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=297
2025-08-07 19:06:06 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=297
2025-08-07 19:06:06 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:06 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:06 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:06:06 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=297, status=FINISHED
2025-08-07 19:06:06 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=297
2025-08-07 19:06:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=297
2025-08-07 19:06:07 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=297
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 19:06:19 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 298
2025-08-07 19:06:19 [http-nio-9527-exec-7] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=298
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=298
2025-08-07 19:06:19 [http-nio-9527-exec-7] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:06:19 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=298, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":298}
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:06:19 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=298}
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 298
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:06:20 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:20 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:20 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=298, port=12345
2025-08-07 19:06:20 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=298, 线程: Simulation-298 (无界面模式)
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-298
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=298
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:06:20 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:21 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:22 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:23 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:24 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:25 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:26 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:27 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:28 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:29 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:30 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:31 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:32 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:33 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:34 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:35 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:36 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:37 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:38 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:40 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:06:41 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:06:41 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=298
2025-08-07 19:06:41 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=298
2025-08-07 19:06:41 [Simulation-298] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:06:41 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=298
2025-08-07 19:06:41 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=298
2025-08-07 19:06:41 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:41 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:06:41 [SimulationWorker-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:06:41 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=298, status=FINISHED
2025-08-07 19:06:41 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=298
2025-08-07 19:06:42 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=298
2025-08-07 19:06:42 [SimulationWorker-5] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=298
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 19:07:23 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 299
2025-08-07 19:07:23 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=299
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=299
2025-08-07 19:07:23 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:07:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=299, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":299}
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:07:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=299}
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 299
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:07:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:07:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:07:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=299, port=12345
2025-08-07 19:07:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=299, 线程: Simulation-299 (无界面模式)
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-299
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 76
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=299
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:07:25 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:26 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:27 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:28 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:29 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:30 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:31 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:32 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:33 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:34 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:35 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:36 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:37 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:38 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:39 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:40 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:41 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:42 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:43 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:44 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:45 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:46 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:47 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:48 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:49 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:07:50 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:07:50 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=299
2025-08-07 19:07:50 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=299
2025-08-07 19:07:50 [Simulation-299] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:07:50 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=299
2025-08-07 19:07:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=299
2025-08-07 19:07:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:07:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:07:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:07:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=299, status=FINISHED
2025-08-07 19:07:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=299
2025-08-07 19:07:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=299
2025-08-07 19:07:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=299
2025-08-07 19:08:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:08:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 19:08:44 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 19:08:44 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:08:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:08:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:08:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:08:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 19:08:53 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 51732 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 19:08:53 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 19:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 19:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 19:08:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 19:08:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 19:08:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 19:08:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 19:08:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 642 ms
2025-08-07 19:08:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 19:08:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@530ee28b
2025-08-07 19:08:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 19:08:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 19:08:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 19:08:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 19:08:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 19:08:54 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 19:08:54 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 19:08:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 19:08:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:08:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 19:08:55 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 19:08:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 19:08:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 19:08:55 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.739 seconds (process running for 3.0)
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 19:08:59 [http-nio-9527-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 300
2025-08-07 19:08:59 [http-nio-9527-exec-5] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=300
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=300
2025-08-07 19:08:59 [http-nio-9527-exec-5] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:08:59 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=300, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":300}
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 19:08:59 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @7122ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 19:08:59 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 19:08:59 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 19:08:59 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@14a9791e{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 19:08:59 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @7191ms
2025-08-07 19:08:59 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:08:59 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=300}
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 300
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:09:01 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:09:01 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:09:01 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=300, port=12345
2025-08-07 19:09:01 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=300, 线程: Simulation-300 (无界面模式)
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-300
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 69
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=300
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:09:01 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:02 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:03 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:04 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:05 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:06 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:07 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:08 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:09 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:10 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:11 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:12 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:13 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:14 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:15 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:16 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:17 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:18 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:19 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:20 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:21 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:09:22 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:09:22 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=300
2025-08-07 19:09:22 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=300
2025-08-07 19:09:22 [Simulation-300] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:09:22 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=300
2025-08-07 19:09:22 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=300
2025-08-07 19:09:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:09:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:09:23 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:09:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=300, status=FINISHED
2025-08-07 19:09:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=300
2025-08-07 19:09:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=300
2025-08-07 19:09:23 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=300
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 19:10:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 301
2025-08-07 19:10:30 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=301
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=301
2025-08-07 19:10:30 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:10:30 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=301, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":301}
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:10:30 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=301}
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 301
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:10:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:10:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:10:31 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=301, port=12345
2025-08-07 19:10:31 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=301, 线程: Simulation-301 (无界面模式)
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-301
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 77
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=301
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:10:31 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:32 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:33 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:34 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:35 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:36 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:37 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:38 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:39 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:40 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:41 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:42 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:43 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:44 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:45 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:46 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:47 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:48 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:49 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:50 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:51 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:10:52 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:10:52 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=301
2025-08-07 19:10:52 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=301
2025-08-07 19:10:52 [Simulation-301] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:10:52 [SimulationWorker-4] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=301
2025-08-07 19:10:52 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=301
2025-08-07 19:10:52 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:10:52 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:10:52 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:10:52 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=301, status=FINISHED
2025-08-07 19:10:52 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=301
2025-08-07 19:10:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=301
2025-08-07 19:10:54 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=301
2025-08-07 19:11:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:11:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 19:11:54 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 19:11:54 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:11:54 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:11:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:11:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:11:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 19:12:05 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 52020 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 19:12:05 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 19:12:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 19:12:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 19:12:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 19:12:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 19:12:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 19:12:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 19:12:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 652 ms
2025-08-07 19:12:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 19:12:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29bbc391
2025-08-07 19:12:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 19:12:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 19:12:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 19:12:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 19:12:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 19:12:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 19:12:06 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 19:12:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 19:12:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:12:07 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 19:12:07 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 19:12:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 19:12:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 19:12:07 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.794 seconds (process running for 3.024)
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 19:12:13 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 302
2025-08-07 19:12:13 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=302
2025-08-07 19:12:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=302
2025-08-07 19:12:13 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:12:13 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:12:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=302, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":302}
2025-08-07 19:12:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 19:12:13 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 19:12:14 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @9263ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 19:12:14 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 19:12:14 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 19:12:14 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@368dabc4{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 19:12:14 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @9347ms
2025-08-07 19:12:14 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 19:12:14 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=302}
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 302
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 19:12:16 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:12:16 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:12:16 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=302, port=12345
2025-08-07 19:12:16 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=302, 线程: Simulation-302 (无界面模式)
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-302
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 66
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=302
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 19:12:16 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:17 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:18 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:19 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:20 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:21 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:22 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:23 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:24 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:25 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:26 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:27 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:28 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:29 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:30 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:31 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:32 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:33 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:34 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:35 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:36 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:37 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:38 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:39 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 19:12:40 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 19:12:40 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=302
2025-08-07 19:12:40 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=302
2025-08-07 19:12:40 [Simulation-302] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 19:12:40 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=302
2025-08-07 19:12:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真任务完成 run_id=302
2025-08-07 19:12:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:12:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 19:12:40 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 19:12:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=302, status=FINISHED
2025-08-07 19:12:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试停止仿真 run_id=302
2025-08-07 19:12:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功停止仿真 run_id=302
2025-08-07 19:12:40 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=302
2025-08-07 19:20:14 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 19:20:14 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 19:20:14 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 19:20:14 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 19:20:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 19:20:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 19:20:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 19:20:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:12:47 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 41492 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:12:47 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:12:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:12:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
2025-08-07 21:12:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:12:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:12:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:12:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:12:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 807 ms
2025-08-07 21:12:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:12:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a3f96ab
2025-08-07 21:12:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:12:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:12:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:12:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:12:49 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:12:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:12:49 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:12:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:12:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:12:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:12:50 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:12:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:12:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:12:50 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 3.513 seconds (process running for 3.835)
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 21:12:55 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 303
2025-08-07 21:12:55 [http-nio-9527-exec-4] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=303
2025-08-07 21:12:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=303
2025-08-07 21:12:55 [http-nio-9527-exec-4] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:12:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:12:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=303, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":303}
2025-08-07 21:12:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:12:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:12:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:12:55 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @8929ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:12:55 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:12:55 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 21:12:55 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@49035aba{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:12:55 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @8983ms
2025-08-07 21:12:56 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:12:56 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=303}
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 303
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:13:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:13:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:13:25 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=303, port=12345
2025-08-07 21:13:25 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=303, 线程: Simulation-303 (无界面模式)
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-303
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 75
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=303
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:13:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:26 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:27 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:28 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:29 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:30 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:31 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:32 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:33 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:34 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:35 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:36 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:37 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:38 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:39 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:40 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:41 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:42 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:43 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:44 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:45 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:46 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:47 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:48 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:49 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:50 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:51 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:52 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:53 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:54 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:55 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=303
2025-08-07 21:13:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:13:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:13:55 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:13:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=303, status=ERROR
2025-08-07 21:13:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=303
2025-08-07 21:13:55 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:56 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:13:57 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:00 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:01 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:02 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:03 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:05 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:06 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:08 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:10 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:12 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:13 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:14 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:16 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:17 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:19 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:21 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:22 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:23 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:26 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:28 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:29 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:31 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:32 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:33 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:35 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:36 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:38 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:39 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:40 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:42 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:43 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:44 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:46 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:47 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:49 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:50 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:51 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:53 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:54 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:55 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:57 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:58 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:14:59 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:01 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:02 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:03 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:05 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:06 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:08 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:09 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:10 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:12 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:13 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:14 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:16 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:17 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:18 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:20 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:21 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:22 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:24 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:25 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:26 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:28 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:29 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:30 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:32 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:33 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:34 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:36 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:37 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:38 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:39 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:41 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:42 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:44 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:45 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:46 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:47 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:49 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:50 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:51 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:53 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:54 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:55 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:57 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:58 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:15:59 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:00 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:02 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:03 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:06 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:07 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:08 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:10 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:11 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:12 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:14 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:15 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:16 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:18 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:19 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:20 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:22 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:23 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:24 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:26 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:27 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:29 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:30 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:31 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:33 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:34 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:36 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:37 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:41 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:42 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:43 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:45 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:46 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:48 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:49 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:50 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:51 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:53 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:54 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:16:56 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:01 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:06 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:08 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:09 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:06 [qtp379501840-54] WARN  o.eclipse.jetty.server.HttpChannel - /uuid/frames
java.lang.OutOfMemoryError: Java heap space
	at com.anylogic.engine.markup.c$1.updateDynamicProperties(Unknown Source)
	at com.anylogic.engine.presentation.Shape.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.presentation.ShapeGroup.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.presentation.ShapeGroup.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.Presentable.d(Unknown Source)
	at com.anylogic.engine.Presentable.updateShapeDynamicProperties(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameProducer.getFrame(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.b(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.b(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.d(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameCollector.d(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameCollector.d(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost.getUpdate(Unknown Source)
	at com.anylogic.engine.internal.webserver.i.d(Unknown Source)
	at com.anylogic.engine.internal.webserver.i$$Lambda$2114/0x00000290fae79bd0.get(Unknown Source)
	at com.anylogic.cloud.util.ExceptionUtils.uncheck(ExceptionUtils.java:124)
	at com.anylogic.engine.internal.webserver.i.getFrames(Unknown Source)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$0(BasicAnimationSessionController.java:46)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController$$Lambda$2113/0x00000290fae799b8.apply(Unknown Source)
	at com.anylogic.engine.internal.webserver.j.applyToAnimationSvgSession(Unknown Source)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$1(BasicAnimationSessionController.java:46)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController$$Lambda$1804/0x00000290fab871a0.handle(Unknown Source)
	at spark.RouteImpl$1.handle(RouteImpl.java:72)
	at spark.http.matching.Routes.execute(Routes.java:61)
	at spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.lambda$0(Unknown Source)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1$$Lambda$2103/0x00000290fae701f8.doFilter(Unknown Source)
	at org.eclipse.jetty.servlets.QoSFilter.doFilter(QoSFilter.java:202)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.doHandle(Unknown Source)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1598)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
2025-08-07 21:17:10 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:12 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:17 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:18 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:19 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:21 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:26 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:27 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:28 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:30 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:35 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:36 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:37 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:41 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:46 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:48 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:49 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:54 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:55 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:57 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:17:58 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:18:03 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:18:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: IDLE
2025-08-07 21:18:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真已停止或出错 run_id=303
2025-08-07 21:18:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=303
2025-08-07 21:18:04 [Simulation-303] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 21:18:04 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=303
2025-08-07 21:18:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:18:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 21:18:04 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 21:18:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:18:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:18:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:18:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:18:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:24:25 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 47940 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:24:25 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:24:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:24:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2025-08-07 21:24:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:24:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:24:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:24:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:24:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 607 ms
2025-08-07 21:24:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:24:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d37ee0c
2025-08-07 21:24:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:24:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:24:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:24:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:24:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:24:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:24:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:24:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:24:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:24:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:24:27 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:24:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:24:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:24:28 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.621 seconds (process running for 2.854)
2025-08-07 21:24:47 [http-nio-9527-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:24:47 [http-nio-9527-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:24:47 [http-nio-9527-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 21:24:48 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 304
2025-08-07 21:24:48 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=304
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=304
2025-08-07 21:24:48 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:24:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=304, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":304}
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:24:48 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @22953ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:24:48 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:24:48 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 21:24:48 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@292ce92c{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:24:48 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @23039ms
2025-08-07 21:24:48 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:24:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=304}
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 304
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:25:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:25:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:25:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:25:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 21:25:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 21:25:19 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 21:25:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:25:19 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:25:19 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:25:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=304, port=12345
2025-08-07 21:25:19 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=304, 线程: Simulation-304 (无界面模式)
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-304
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 74
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=304
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:25:19 [Simulation-304] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:25:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:25:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:25:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:25:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:35:55 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 24084 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:35:55 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:35:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:35:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 21:35:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:35:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:35:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:35:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:35:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 633 ms
2025-08-07 21:35:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:35:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b8853
2025-08-07 21:35:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:35:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:35:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:35:56 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:35:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:35:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:35:56 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:35:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:35:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:35:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:35:57 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:35:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:35:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:35:57 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.653 seconds (process running for 2.873)
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 21:36:03 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 305
2025-08-07 21:36:03 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=305
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=305
2025-08-07 21:36:03 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:36:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=305, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":305}
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:36:03 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @8809ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:36:03 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:36:03 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 21:36:03 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@32595158{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:36:03 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @8869ms
2025-08-07 21:36:03 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:36:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=305}
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 305
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:36:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:36:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:36:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:36:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 21:36:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 21:36:34 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 21:36:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:36:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:36:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:36:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=305, port=12345
2025-08-07 21:36:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=305, 线程: Simulation-305 (无界面模式)
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-305
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 82
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=305
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:36:34 [Simulation-305] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:36:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:36:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:36:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:36:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:38:21 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 24000 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:38:21 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 21:38:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:38:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:38:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:38:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:38:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 634 ms
2025-08-07 21:38:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:38:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bb8e6fc
2025-08-07 21:38:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:38:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:38:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:38:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:38:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:38:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:38:22 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:38:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:38:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:38:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:38:23 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:38:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:38:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:38:23 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.684 seconds (process running for 2.874)
2025-08-07 21:38:33 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:38:33 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:38:33 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 21:38:33 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:38:33 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:38:33 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:38:33 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 21:38:33 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:38:34 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 306
2025-08-07 21:38:34 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=306
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=306
2025-08-07 21:38:34 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:38:34 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=306, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":306}
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:38:34 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @13452ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:38:34 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:38:34 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 21:38:34 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4324f6c0{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:38:34 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @13509ms
2025-08-07 21:38:34 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:38:34 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=306}
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 306
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:39:04 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:39:04 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:39:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:39:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 21:39:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 21:39:05 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 21:39:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:39:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:39:05 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:39:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=306, port=12345
2025-08-07 21:39:05 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=306, 线程: Simulation-306 (无界面模式)
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-306
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 82
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=306
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:39:05 [Simulation-306] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:39:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:39:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:39:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:39:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:41:54 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 41184 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:41:54 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:41:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:41:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-08-07 21:41:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:41:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:41:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:41:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:41:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 630 ms
2025-08-07 21:41:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:41:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@682e422c
2025-08-07 21:41:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:41:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:41:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:41:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:41:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:41:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:41:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:41:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:41:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:41:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:41:56 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:41:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:41:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:41:57 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.708 seconds (process running for 2.943)
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 21:42:06 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 307
2025-08-07 21:42:06 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=307
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=307
2025-08-07 21:42:06 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:42:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=307, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":307}
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:42:06 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @12395ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:42:06 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:42:06 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 21:42:06 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1625f35c{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:42:06 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @12446ms
2025-08-07 21:42:06 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:42:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=307}
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 307
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:42:36 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:42:36 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:42:36 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=307, port=12345
2025-08-07 21:42:36 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=307, 线程: Simulation-307 (无界面模式)
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-307
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 73
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=307
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:42:36 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:37 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:38 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:39 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:40 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:41 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:42 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:43 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:44 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:45 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:46 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:47 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:48 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:49 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:50 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:51 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:53 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:54 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:55 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:56 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:57 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:58 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:42:59 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:00 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:01 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:02 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:03 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:04 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:05 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:06 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:06 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=307
2025-08-07 21:43:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:43:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:43:06 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:43:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=307, status=ERROR
2025-08-07 21:43:06 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=307
2025-08-07 21:43:07 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:08 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:09 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:10 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:11 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:12 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:13 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:14 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:15 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:17 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:18 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:20 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:21 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:22 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:23 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:25 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:26 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:27 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:28 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:30 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:30 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:43:30 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 21:43:30 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 21:43:30 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:43:31 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:32 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:43:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:43:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:43:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:43:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:43:33 [Simulation-307] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:46:41 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 49416 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:46:41 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:46:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:46:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 21:46:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:46:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:46:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:46:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:46:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 621 ms
2025-08-07 21:46:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:46:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bb8e6fc
2025-08-07 21:46:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:46:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:46:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:46:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:46:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:46:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:46:43 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:46:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:46:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:46:43 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:46:43 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:46:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:46:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:46:44 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.641 seconds (process running for 2.83)
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 21:47:00 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 308
2025-08-07 21:47:00 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=308
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=308
2025-08-07 21:47:00 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:47:00 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=308, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":308}
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:47:00 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @18944ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:47:00 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:47:00 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 21:47:00 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@339c7c05{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:47:00 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @19018ms
2025-08-07 21:47:00 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:47:00 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=308}
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 308
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:47:30 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:47:30 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:47:31 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:47:31 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 21:47:31 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 21:47:31 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 21:47:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 21:47:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:47:31 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:47:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=308, port=12345
2025-08-07 21:47:31 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=308, 线程: Simulation-308 (无界面模式)
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-308
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 82
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=308
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:47:31 [Simulation-308] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:47:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 21:47:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:47:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 21:47:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 21:48:16 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 33880 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:48:16 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:48:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:48:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-08-07 21:48:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:48:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:48:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:48:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:48:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 641 ms
2025-08-07 21:48:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:48:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bb8e6fc
2025-08-07 21:48:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:48:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:48:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:48:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:48:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:48:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:48:17 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:48:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:48:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:48:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:48:18 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:48:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:48:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:48:19 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.718 seconds (process running for 2.952)
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 21:48:27 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 309
2025-08-07 21:48:27 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=309
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=309
2025-08-07 21:48:27 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:48:27 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=309, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":309}
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:48:27 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @11434ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:48:27 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:48:27 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 21:48:27 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5b3de15e{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:48:27 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @11486ms
2025-08-07 21:48:27 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:48:27 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=309}
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 309
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 21:48:57 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:48:57 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:48:57 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=309, port=12345
2025-08-07 21:48:57 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=309, 线程: Simulation-309 (无界面模式)
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-309
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 74
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=309
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 21:48:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:48:58 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:48:59 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:00 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:01 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:02 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:03 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:04 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:05 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:06 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:07 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:08 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:09 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:10 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:11 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:12 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:13 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:14 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:15 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:16 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:17 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:18 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:19 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:20 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:21 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:22 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:24 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:25 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:26 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:27 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:28 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:28 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=309
2025-08-07 21:49:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:49:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:49:28 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:49:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=309, status=ERROR
2025-08-07 21:49:28 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=309
2025-08-07 21:49:29 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:30 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:31 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:32 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:33 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:34 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:35 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:36 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:37 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:39 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:40 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:41 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:43 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:45 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:46 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:48 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:49 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:51 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:52 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:54 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:49:59 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:00 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:01 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:03 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:04 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:05 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:07 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:08 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:10 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:11 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:11 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:50:11 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:50:11 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:50:11 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 21:50:12 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:12 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:50:14 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:15 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 310
2025-08-07 21:50:15 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=310
2025-08-07 21:50:15 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=310
2025-08-07 21:50:16 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:16 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:50:16 [SimulationWorker-3] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:50:18 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:19 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=310, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":310}
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: RUNNING
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 仿真处于RUNNING状态，先reset
2025-08-07 21:50:20 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - 重置仿真到初始状态 run_id=310
2025-08-07 21:50:22 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:23 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:24 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:26 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:27 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:28 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:30 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:31 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:32 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:34 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:35 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:36 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:38 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:39 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:41 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:42 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:43 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:45 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:46 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:47 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:49 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:50 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:51 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:52 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:54 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:56 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:58 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:50:59 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:00 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:01 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:03 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:04 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:05 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:07 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:08 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:09 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:10 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:12 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:13 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:14 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:16 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:17 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:18 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:20 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:21 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:22 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:24 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:25 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:26 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:27 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:29 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:30 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:32 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:33 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:34 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:36 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:37 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:38 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:39 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:43 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:45 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:46 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:47 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:48 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:50 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:51 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:52 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:54 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:56 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:58 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:51:59 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:00 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:01 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:03 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:04 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:06 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:07 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:08 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:09 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:11 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:12 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:13 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:14 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:16 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:17 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:18 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:20 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:21 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:22 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:23 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:25 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:26 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:27 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:29 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:30 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:31 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:32 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:34 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:35 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:36 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:38 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:39 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:40 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:42 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:43 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:44 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:46 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:47 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:48 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:49 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:51 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:52 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:53 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:56 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:57 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:52:59 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:00 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:01 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:03 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:04 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:05 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:07 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:08 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:09 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:10 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:11 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:13 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:14 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:16 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:17 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:18 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:19 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:21 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:22 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:23 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:25 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:26 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:27 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:29 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:30 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:32 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:33 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:35 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:36 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:37 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:39 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:41 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:43 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:48 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:53 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: PLEASE_WAIT
2025-08-07 21:53:53 [qtp1275211667-55] WARN  o.eclipse.jetty.server.HttpChannel - /uuid/frames
java.lang.OutOfMemoryError: Java heap space
	at com.anylogic.engine.markup.c$1.updateDynamicProperties(Unknown Source)
	at com.anylogic.engine.presentation.Shape.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.presentation.ShapeGroup.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.presentation.ShapeGroup.updateDynamicPropertiesStructural(Unknown Source)
	at com.anylogic.engine.Presentable.d(Unknown Source)
	at com.anylogic.engine.Presentable.updateShapeDynamicProperties(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameProducer.getFrame(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.b(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.b(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost$1.d(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameCollector.d(Unknown Source)
	at com.anylogic.engine.gui.SVGFrameCollector.d(Unknown Source)
	at com.anylogic.engine.gui.ExperimentHost.getUpdate(Unknown Source)
	at com.anylogic.engine.internal.webserver.i.d(Unknown Source)
	at com.anylogic.engine.internal.webserver.i$$Lambda$2115/0x000001ada2e7d5d8.get(Unknown Source)
	at com.anylogic.cloud.util.ExceptionUtils.uncheck(ExceptionUtils.java:124)
	at com.anylogic.engine.internal.webserver.i.getFrames(Unknown Source)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$0(BasicAnimationSessionController.java:46)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController$$Lambda$2114/0x000001ada2e7d3c0.apply(Unknown Source)
	at com.anylogic.engine.internal.webserver.j.applyToAnimationSvgSession(Unknown Source)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController.lambda$startController$1(BasicAnimationSessionController.java:46)
	at com.anylogic.executor.basic.rest.BasicAnimationSessionController$$Lambda$1806/0x000001ada2b8c118.handle(Unknown Source)
	at spark.RouteImpl$1.handle(RouteImpl.java:72)
	at spark.http.matching.Routes.execute(Routes.java:61)
	at spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.lambda$0(Unknown Source)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1$$Lambda$2104/0x000001ada2e73c90.doFilter(Unknown Source)
	at org.eclipse.jetty.servlets.QoSFilter.doFilter(QoSFilter.java:202)
	at com.anylogic.engine.internal.webserver.config.ALServerFactory$1.doHandle(Unknown Source)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1598)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
2025-08-07 21:53:55 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 停止当前仿真 run_id=310
2025-08-07 21:53:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: IDLE
2025-08-07 21:53:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真已停止或出错 run_id=309
2025-08-07 21:53:55 [SimulationWorker-3] INFO  c.s.d.service.AnyLogicModelService - ? 重置仿真完成 run_id=310
2025-08-07 21:53:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=309
2025-08-07 21:53:55 [Simulation-309] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 21:53:56 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 21:59:07 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 41612 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 21:59:07 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 21:59:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 21:59:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
2025-08-07 21:59:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 21:59:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 21:59:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 21:59:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 21:59:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 774 ms
2025-08-07 21:59:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 21:59:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@546ed2a0
2025-08-07 21:59:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 21:59:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 21:59:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 21:59:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 21:59:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 21:59:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 21:59:08 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 21:59:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 21:59:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 21:59:09 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 21:59:09 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 21:59:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 21:59:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 21:59:10 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 3.265 seconds (process running for 3.507)
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 21:59:54 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 311
2025-08-07 21:59:54 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=311
2025-08-07 21:59:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=311
2025-08-07 21:59:54 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 21:59:54 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 21:59:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=311, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":311}
2025-08-07 21:59:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 21:59:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 21:59:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 21:59:54 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @48190ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 21:59:54 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 21:59:54 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 21:59:54 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@206637e{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 21:59:54 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @48248ms
2025-08-07 21:59:55 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 21:59:55 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:00:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 22:00:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 22:00:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 正在停止仿真 run_id=311
2025-08-07 22:00:06 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 22:00:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 22:00:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 22:00:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:00:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 22:00:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 22:00:33 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 36492 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 22:00:33 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 22:00:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 22:00:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 22:00:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 22:00:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 22:00:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 22:00:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 22:00:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 654 ms
2025-08-07 22:00:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 22:00:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3bbf1c0d
2025-08-07 22:00:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 22:00:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 22:00:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 22:00:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 22:00:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 22:00:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 22:00:34 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 22:00:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 22:00:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:00:34 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 22:00:35 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 22:00:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 22:00:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 22:00:35 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.727 seconds (process running for 2.971)
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 22:00:53 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 312
2025-08-07 22:00:53 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=312
2025-08-07 22:00:53 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=312
2025-08-07 22:00:53 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:00:54 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=312, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":312}
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 22:00:54 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @21521ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 22:00:54 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 22:00:54 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
2025-08-07 22:00:54 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2b9ac7b2{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 22:00:54 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @21580ms
2025-08-07 22:00:54 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 22:00:54 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=312}
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 312
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 22:01:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:01:24 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 22:01:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:01:24 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到可能是AnyLogic界面关闭
2025-08-07 22:01:24 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到AnyLogic界面关闭，但保持后端服务运行...
2025-08-07 22:01:24 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 22:01:24 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - AnyLogic界面关闭处理完成，后端服务继续运行
2025-08-07 22:01:24 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=312, port=12345
2025-08-07 22:01:24 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=312, 线程: Simulation-312 (无界面模式)
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-312
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 82
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=312
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 22:01:24 [Simulation-312] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:01:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 22:01:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:01:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 22:01:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 22:04:31 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 41304 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 22:04:31 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 22:04:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 22:04:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2025-08-07 22:04:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 22:04:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 22:04:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 22:04:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 22:04:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 702 ms
2025-08-07 22:04:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 22:04:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@546ed2a0
2025-08-07 22:04:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 22:04:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 22:04:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 22:04:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 22:04:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 22:04:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 22:04:32 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 22:04:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 22:04:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:04:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 22:04:33 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 22:04:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 22:04:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 22:04:34 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.767 seconds (process running for 3.277)
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 22:04:47 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 313
2025-08-07 22:04:47 [http-nio-9527-exec-1] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=313
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=313
2025-08-07 22:04:47 [http-nio-9527-exec-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:04:47 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=313, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":313}
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 22:04:47 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @16568ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 22:04:47 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 22:04:47 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 22:04:47 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6f57de09{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 22:04:47 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @16646ms
2025-08-07 22:04:47 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 22:04:47 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=313}
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 313
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 22:05:17 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 22:05:17 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:05:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:05:18 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:05:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=313, port=12345
2025-08-07 22:05:18 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=313, 线程: Simulation-313 (无界面模式)
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-313
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 77
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=313
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:05:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:19 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:20 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:21 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:22 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:23 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:24 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:25 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:26 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:27 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:28 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:29 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:30 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:31 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:32 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:33 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:34 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:35 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:36 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:37 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:38 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:39 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:40 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:41 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:42 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:43 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:44 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:45 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:46 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:47 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:48 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=313
2025-08-07 22:05:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:05:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:05:48 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:05:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=313, status=ERROR
2025-08-07 22:05:48 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=313
2025-08-07 22:05:48 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:49 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:50 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:52 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:53 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:54 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:55 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:56 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:57 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:05:59 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:01 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:03 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:04 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:06 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:07 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:09 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:10 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:12 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:13 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:15 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:16 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:18 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:19 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:20 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:22 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:23 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:24 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:26 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:27 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:29 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:30 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:31 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:33 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:34 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:35 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:37 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:38 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:40 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:41 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:42 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:44 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:45 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:46 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:48 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:49 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:50 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:52 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:53 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:54 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:56 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:06:58 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:01 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:03 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:04 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:05 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:07 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:08 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:09 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:11 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:12 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:13 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:15 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:16 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:17 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:19 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:20 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:21 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:23 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:24 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:26 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:27 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:28 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:30 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:31 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:33 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:34 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:35 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:36 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:38 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:39 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:40 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:42 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:43 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:44 [Simulation-313] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:07:46 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 22:34:06 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 21140 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 22:34:06 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 22:34:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 22:34:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 22:34:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 22:34:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 22:34:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 22:34:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 22:34:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 632 ms
2025-08-07 22:34:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 22:34:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27ec8754
2025-08-07 22:34:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 22:34:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 22:34:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 22:34:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 22:34:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 22:34:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 22:34:07 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 22:34:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 22:34:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:34:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 22:34:08 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 22:34:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 22:34:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 22:34:08 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.686 seconds (process running for 2.925)
2025-08-07 22:34:09 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 22:34:09 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 22:34:09 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-07 22:34:09 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 22:34:37 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 314
2025-08-07 22:34:37 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=314
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=314
2025-08-07 22:34:37 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:34:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=314, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":314}
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 22:34:37 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @31576ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 22:34:37 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 22:34:37 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 22:34:37 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@18f1fd57{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 22:34:37 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @31632ms
2025-08-07 22:34:37 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 22:34:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:34:42 [http-nio-9527-exec-4] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:34:44 [http-nio-9527-exec-5] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:34:46 [http-nio-9527-exec-6] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:34:47 [http-nio-9527-exec-7] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=314}
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 314
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 22:35:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:35:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:35:07 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=314, port=12345
2025-08-07 22:35:07 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=314, 线程: Simulation-314 (无界面模式)
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-314
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 77
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=314
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:35:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:08 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:09 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:10 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:11 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:12 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:13 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:14 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:15 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:16 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:17 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:18 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:19 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:20 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:21 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:22 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:23 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:24 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:25 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:26 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:27 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:28 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:29 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:30 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:31 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:32 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:33 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:34 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:35 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:36 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:37 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=314
2025-08-07 22:35:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:35:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:35:37 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:35:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=314, status=ERROR
2025-08-07 22:35:37 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=314
2025-08-07 22:35:38 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:39 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:40 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:41 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:42 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:43 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:44 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:45 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:46 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:47 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:49 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:50 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:53 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:54 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:55 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:57 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:35:58 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:00 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:01 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:02 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:04 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:05 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:07 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:08 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:10 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:11 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:12 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:14 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:15 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:16 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:18 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:19 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:21 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:22 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:24 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:25 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:26 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:28 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:29 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:30 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:32 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:33 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:36:34 [Simulation-314] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:38:33 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 48932 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 22:38:33 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 22:38:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 22:38:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-08-07 22:38:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 22:38:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 22:38:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 22:38:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 22:38:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 622 ms
2025-08-07 22:38:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 22:38:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27ec8754
2025-08-07 22:38:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 22:38:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 22:38:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 22:38:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 22:38:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 22:38:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 22:38:34 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 22:38:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 22:38:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:38:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 22:38:35 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 22:38:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 22:38:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 22:38:36 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.774 seconds (process running for 3.006)
2025-08-07 22:38:38 [http-nio-9527-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 22:38:38 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 22:38:38 [http-nio-9527-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 22:38:38 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 获取系统资源状态
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:20:00","runId":null}
2025-08-07 22:38:50 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 315
2025-08-07 22:38:50 [http-nio-9527-exec-3] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=315
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=315
2025-08-07 22:38:50 [http-nio-9527-exec-3] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:38:50 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=315, engineParams={"startDate":"2025-05-31 15:20:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:20:00","runId":315}
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 22:38:50 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @17431ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 22:38:50 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 22:38:50 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 22:38:50 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@542c3a2e{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 22:38:50 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @17497ms
2025-08-07 22:38:50 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:20:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:20:00
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 22:38:50 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:20:00, runId=315}
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:20:00
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:20:00
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 315
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 22:39:21 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:39:21 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:39:21 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=315, port=12345
2025-08-07 22:39:21 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=315, 线程: Simulation-315 (无界面模式)
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-315
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 76
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=315
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:39:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:22 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:23 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:24 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:25 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:26 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:27 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:28 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:29 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:30 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:31 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:32 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:33 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:34 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:35 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:36 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:37 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:38 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:39 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:40 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:41 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:42 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:43 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:44 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:45 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:46 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:47 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:48 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:49 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:50 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:51 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=315
2025-08-07 22:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:39:51 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=315, status=ERROR
2025-08-07 22:39:51 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=315
2025-08-07 22:39:51 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:52 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:53 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:54 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:55 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:56 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:57 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:58 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:39:59 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:00 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:01 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:02 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:03 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:04 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:05 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:06 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:07 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:08 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:09 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:10 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:12 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:13 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:14 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:15 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:16 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:17 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:18 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:19 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:20 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:22 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:23 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:24 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:25 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:26 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:27 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:28 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:29 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:30 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:31 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:32 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:33 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:34 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:35 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:36 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:37 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:38 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:39 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:40 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:41 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:42 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:43 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:44 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:45 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:46 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:47 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:48 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:49 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:50 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:51 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:52 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:53 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:54 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:55 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:56 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:57 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:58 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:40:59 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:00 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:01 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:02 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:03 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:04 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:05 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:06 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:07 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:08 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:09 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:10 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:12 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:13 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:14 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:15 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:16 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:17 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:18 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:19 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:20 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:22 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:23 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:24 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:25 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:26 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:27 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:28 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:29 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:30 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:31 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:32 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:33 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:34 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:35 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:36 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:37 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:38 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:40 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:41 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:42 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:43 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:44 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:45 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:46 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:47 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:48 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:49 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:50 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:51 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:52 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:53 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:54 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:55 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:56 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:57 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:58 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:41:59 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:00 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:01 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:02 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:03 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:04 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:05 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:06 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:07 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:08 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:09 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:10 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:12 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:13 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:14 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:15 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:16 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:17 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:18 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:19 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:20 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:21 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:22 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:23 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:24 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:25 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:26 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:27 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:28 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:29 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:30 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:31 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:32 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:33 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:34 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:35 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:36 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:37 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:38 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:39 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:40 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:41 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:42 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:43 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:44 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:45 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:46 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:47 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:48 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:49 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:50 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:51 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:52 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:53 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:54 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:55 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:56 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:57 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:58 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:42:59 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:00 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:01 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:02 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:03 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:04 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:05 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:06 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:07 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:08 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:09 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:10 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:43:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 22:43:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=315
2025-08-07 22:43:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=315
2025-08-07 22:43:11 [Simulation-315] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 22:43:11 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=315
2025-08-07 22:43:47 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 检测到JVM关闭信号，开始清理仿真资源...
2025-08-07 22:43:47 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 开始清理仿真资源...
2025-08-07 22:43:47 [SimulationCleanupHook] INFO  c.s.d.service.AnyLogicModelService - 仿真资源清理完成
2025-08-07 22:43:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-07 22:43:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-07 22:43:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:43:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-07 22:43:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-07 22:45:33 [main] INFO  com.simulation.demo.DemoApplication - Starting DemoApplication using Java 17.0.12 with PID 38084 (D:\TheBundSimulation\SimulationWebService\SimulationBackend\target\classes started by pc in D:\TheBundSimulation\SimulationWebService\SimulationBackend)
2025-08-07 22:45:33 [main] INFO  com.simulation.demo.DemoApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-07 22:45:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-07 22:45:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-08-07 22:45:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9527 (http)
2025-08-07 22:45:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-07 22:45:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-07 22:45:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-07 22:45:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 655 ms
2025-08-07 22:45:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-07 22:45:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3bbf1c0d
2025-08-07 22:45:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-07 22:45:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-07 22:45:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-07 22:45:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-07 22:45:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-07 22:45:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-07 22:45:35 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-07 22:45:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-07 22:45:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-07 22:45:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-07 22:45:36 [main] INFO  c.s.d.service.AnyLogicModelService - ? AnyLogic无界面模式配置完成
2025-08-07 22:45:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-07 22:45:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9527 (http) with context path '/'
2025-08-07 22:45:36 [main] INFO  com.simulation.demo.DemoApplication - Started DemoApplication in 2.727 seconds (process running for 2.956)
2025-08-07 22:46:02 [http-nio-9527-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-07 22:46:02 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-07 22:46:02 [http-nio-9527-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.c.SimulationController - 收到启动模拟请求: modelName=NanJingDong, engineParams=3, agentParams=2
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 创建并启动仿真: modelName=NanJingDong, engineParams=3, agentParams=2, description=测试仿真
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 引擎参数JSON: {"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 智能体参数JSON: {"simulTargetTime":"2025-05-31 15:30:00","runId":null}
2025-08-07 22:46:02 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        simulation_runs
        (agent_parameters, description, end_date, engine_parameters, model_name, model_port, simulation_parameters, start_date, state) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 成功创建仿真运行记录，获取 run_id = 316
2025-08-07 22:46:02 [http-nio-9527-exec-2] INFO  c.s.d.service.AnyLogicModelService - 异步启动仿真 run_id=316
2025-08-07 22:46:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始在线程中运行仿真 run_id=316
2025-08-07 22:46:02 [http-nio-9527-exec-2] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:46:02 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:46:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到仿真参数 run_id=316, engineParams={"startDate":"2025-05-31 15:30:00","stopDate":"2025-05-31 15:50:00","realTimeScale":1000}, agentParams={"simulTargetTime":"2025-05-31 15:30:00","runId":316}
2025-08-07 22:46:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取全局仿真实例 ===
2025-08-07 22:46:02 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 创建全局仿真实例...
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真实例创建成功
2025-08-07 22:46:03 [SimulationWorker-1] INFO  s.s.StaticFilesConfiguration - StaticResourceHandler configured with folder = /standalone
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.util.log - Logging initialized @29647ms to org.eclipse.jetty.util.log.Slf4jLog
2025-08-07 22:46:03 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - == Spark has ignited ...
2025-08-07 22:46:03 [Thread-2] INFO  s.e.jetty.EmbeddedJettyServer - >> Listening on 0.0.0.0:12345
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.server.Server - jetty-9.4.51.v20230217; built: 2023-02-17T08:19:37.309Z; git: b45c405e4544384de066f814ed42ae3dceacdd49; jvm 17.0.12+8-LTS-286
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
2025-08-07 22:46:03 [Thread-2] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@74a29b67{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}
2025-08-07 22:46:03 [Thread-2] INFO  org.eclipse.jetty.server.Server - Started @29700ms
2025-08-07 22:46:03 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 配置ExperimentHost时发生异常: com.anylogic.engine.gui.ExperimentHost.setWebServerEnabled(boolean)
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局ExperimentHost初始化完成
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 全局仿真初始化完成
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 获取全局仿真实例成功
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 当前仿真状态: IDLE
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用引擎参数 ===
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用引擎参数: {startDate=2025-05-31 15:30:00, stopDate=2025-05-31 15:50:00, realTimeScale=1000}
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: startDate = 2025-05-31 15:30:00
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: stopDate = 2025-05-31 15:50:00
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置引擎参数: realTimeScale = 1000
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 引擎参数应用完成
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 检查顶层智能体 ===
2025-08-07 22:46:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 顶层智能体不存在，创建新的顶层智能体
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 顶层智能体创建成功
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 应用智能体参数 ===
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始应用智能体参数: {simulTargetTime=2025-05-31 15:30:00, runId=316}
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 成功获取主智能体: nanjingdong.Main
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 获取到主智能体对象: nanjingdong.Main
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 尝试设置 simulTargetTime 参数: 2025-05-31 15:30:00
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: simulTargetTime = 2025-05-31 15:30:00
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ? 成功设置智能体参数: runId = 316
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 智能体参数应用完成
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - === 获取模型端口号 ===
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - ??? 最终获取到的端口号: 12345 ???
2025-08-07 22:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:46:33 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真端口号: run_id=316, port=12345
2025-08-07 22:46:33 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - === 线程开始 - 日志测试 ===
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真开始运行 run_id=316, 线程: Simulation-316 (无界面模式)
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试开始 ===
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 当前线程: Simulation-316
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 线程ID: 74
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 类加载器: jdk.internal.loader.ClassLoaders$AppClassLoader@33909752
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试结束 ===
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - === 子线程日志测试 - 在AnyLogic运行前 ===
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 启动无界面仿真 run_id=316
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 获取到引擎对象: com.anylogic.engine.Engine
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎实时模式: false
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - ? 设置引擎时间缩放: 1000.0
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 开始运行仿真...
2025-08-07 22:46:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:34 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:35 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:36 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:37 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:38 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:39 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:40 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:41 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:42 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:43 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:44 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:45 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:46 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:47 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:48 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:49 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:50 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:52 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:53 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:54 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:55 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:56 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:57 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:58 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:46:59 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:00 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:01 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:02 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:03 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:03 [SimulationWorker-1] WARN  c.s.d.service.AnyLogicModelService - 仿真任务超时 run_id=316
2025-08-07 22:47:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:47:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    select
        sr1_0.run_id,
        sr1_0.agent_parameters,
        sr1_0.description,
        sr1_0.end_date,
        sr1_0.engine_parameters,
        sr1_0.model_name,
        sr1_0.model_port,
        sr1_0.simulation_parameters,
        sr1_0.start_date,
        sr1_0.state 
    from
        simulation_runs sr1_0 
    where
        sr1_0.run_id=?
2025-08-07 22:47:03 [SimulationWorker-1] DEBUG org.hibernate.SQL - 
    update
        simulation_runs 
    set
        agent_parameters=?,
        description=?,
        end_date=?,
        engine_parameters=?,
        model_name=?,
        model_port=?,
        simulation_parameters=?,
        start_date=?,
        state=? 
    where
        run_id=?
2025-08-07 22:47:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 更新仿真状态: run_id=316, status=ERROR
2025-08-07 22:47:03 [SimulationWorker-1] INFO  c.s.d.service.AnyLogicModelService - 仿真完成，清理资源 run_id=316
2025-08-07 22:47:04 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:05 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:06 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:07 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:08 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:09 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:10 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:11 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:12 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:13 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:14 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:15 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:16 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:17 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:18 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:19 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:20 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:22 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:23 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:24 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:25 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:26 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:27 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:28 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:29 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:30 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:31 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:32 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:34 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:35 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:36 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:37 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:38 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:39 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:40 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:41 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:42 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:43 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:44 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:45 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:46 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:47 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:48 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:49 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:50 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:51 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:52 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:53 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:54 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:55 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:56 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:57 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:58 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:47:59 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:00 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:01 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:02 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:03 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:04 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:05 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:06 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:07 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:08 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:09 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:10 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:11 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:12 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:13 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:14 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:15 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:16 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:17 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:18 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:19 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:20 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:22 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:23 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:24 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:25 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:26 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:27 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:28 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:29 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:30 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:31 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:32 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:33 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:34 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:35 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:36 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:37 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:38 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:39 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:40 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:41 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:42 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:43 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:44 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:45 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:46 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:47 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:48 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:49 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:50 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:51 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:52 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:53 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:54 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:55 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:56 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:57 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:58 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:48:59 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:00 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:01 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:02 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:03 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:04 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:05 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:06 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:07 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:08 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:09 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:10 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:11 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:12 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:13 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:14 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:15 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:16 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:17 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:18 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:19 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:20 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: RUNNING
2025-08-07 22:49:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真监控中，当前状态: FINISHED
2025-08-07 22:49:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真已完成 run_id=316
2025-08-07 22:49:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 无界面仿真运行完成 run_id=316
2025-08-07 22:49:21 [Simulation-316] INFO  c.s.d.service.AnyLogicModelService - 仿真正常结束 run_id={}
2025-08-07 22:49:21 [SimulationWorker-2] INFO  c.s.d.service.AnyLogicModelService - 仿真线程清理完成 run_id=316
